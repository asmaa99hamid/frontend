{"version":3,"file":"js/1733.91cc792a.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/audit-marks.service.js","webpack://Osboha180/./src/views/OsbohaMain/Group/AuditMarks/Mark.vue","webpack://Osboha180/./src/components/group/audit/Note.vue","webpack://Osboha180/./src/components/group/audit/Note.vue?c3dc","webpack://Osboha180/./src/views/OsbohaMain/Group/AuditMarks/Mark.vue?4785"],"sourcesContent":["import { api, handelErrors } from \"../Intercepter\";\r\n\r\nclass AuditMarks {\r\n\r\n  constructor() {\r\n    this.prefix = 'audit-marks'\r\n  }\r\n\r\n  /**\r\n   * get audit marks with group exceptions => list only for group administrators\r\n *  @param  group_id\r\n * @return mark with Achievement\r\n */\r\n  async groupAuditMarks(group_id) {\r\n    try {\r\n      const response = await api.get(`${this.prefix}/group-audit-marks/${group_id}`)\r\n        .catch((error) => { // error is handled in catch block\r\n          if (error.response) {\r\n            handelErrors(error.response.status)\r\n\r\n          } else if (error.request) { // The request was made but no response was received\r\n            console.log(error.request);\r\n          } else {// Error on setting up the request\r\n            console.log('Error', error.message);\r\n          }\r\n        });\r\n      return response.data.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n  /**\r\n   * get mark with theses by mark id => list only for group administrators\r\n *  @param  mark_for_audit_id\r\n * @return mark with Achievement\r\n */\r\n  async markForAudit(mark_for_audit_id) {\r\n    try {\r\n      const response = await api.get(`${this.prefix}/mark-for-audit/${mark_for_audit_id}`)\r\n        .catch((error) => { // error is handled in catch block\r\n          if (error.response) {\r\n            handelErrors(error.response.status)\r\n\r\n          } else if (error.request) { // The request was made but no response was received\r\n            console.log(error.request);\r\n          } else {// Error on setting up the request\r\n            console.log('Error', error.message);\r\n          }\r\n        });\r\n      return response.data.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  /**\r\n* Update Mark for Audit Status.\r\n*\r\n* @param  status, mark_for_audit_id\r\n*/\r\n  async updateMarkForAuditStatus(status, id) {\r\n    try {\r\n      const response = api.patch(`${this.prefix}/update-mark-for-audit-status/${id}`, {\r\n        status: status,\r\n      }).catch((error) => { // error is handled in catch block\r\n        if (error.response) {\r\n          handelErrors(error.response.status)\r\n\r\n        } else if (error.request) { // The request was made but no response was received\r\n          console.log(error.request);\r\n        } else {// Error on setting up the request\r\n          console.log('Error', error.message);\r\n        }\r\n      });\r\n      return response.data.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n  * Add Note.\r\n  *  @param  noteForm\r\n  * @return response\r\n  */\r\n  async addNote(noteForm) {\r\n    try {\r\n      const response = await api.post(`/${this.prefix}/add-note`, noteForm, {\r\n        headers: { \"Content-type\": \"multipart/form-data\" },\r\n      }).catch((error) => { // error is handled in catch block\r\n        if (error.response) {\r\n          handelErrors(error.response.status)\r\n\r\n        } else if (error.request) { // The request was made but no response was received\r\n          console.log(error.request);\r\n        } else {// Error on setting up the request\r\n          console.log('Error', error.message);\r\n        }\r\n      });\r\n      return response.data.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n  * get all groups audit for supervisor.\r\n  * @return response\r\n  */\r\n  async groupsAudit(supervisor_id) {\r\n    try {\r\n      const response = await api.get(`/${this.prefix}/groups-audit/${supervisor_id}`)\r\n        .catch((error) => { // error is handled in catch block\r\n          if (error.response) {\r\n            handelErrors(error.response.status)\r\n\r\n          } else if (error.request) { // The request was made but no response was received\r\n            console.log(error.request);\r\n          } else {// Error on setting up the request\r\n            console.log('Error', error.message);\r\n          }\r\n        })\r\n      return response.data.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n  /**\r\n  * get all groups audit for supervisor.\r\n  * @return response\r\n  */\r\n  async supervisorsAudit(advisor_id) {\r\n    try {\r\n      const response = await api.get(`/${this.prefix}/supervisors-audit/${advisor_id}`)\r\n        .catch((error) => { // error is handled in catch block\r\n          if (error.response) {\r\n            handelErrors(error.response.status)\r\n\r\n          } else if (error.request) { // The request was made but no response was received\r\n            console.log(error.request);\r\n          } else {// Error on setting up the request\r\n            console.log('Error', error.message);\r\n          }\r\n        })\r\n      return response.data.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default new AuditMarks();","<template>\r\n    <div>\r\n        <div class=\"col-sm-12 mt-3\">\r\n            <iq-card class=\"iq-card\">\r\n                <div class=\"iq-card-header-toolbar d-flex align-items-center mx-auto\">\r\n                    <h3 class=\"text-center mt-3 mb-3\" style=\" direction: rtl;\" v-if=\"mark && week\">{{ mark.user.name }} -\r\n                        الأسبوع {{ week.title }}\r\n                    </h3>\r\n                </div>\r\n                <div class=\"text-center\">\r\n                    <span v-if=\"mark_for_audit\"\r\n                        :class=\"`ms-2 rounded badge text-white ${statusClass(mark_for_audit.status)}`\">{{\r\n                            audit_status[mark_for_audit.status] }}</span>\r\n                </div>\r\n\r\n                <div class=\"iq-card-body p-3\">\r\n                    <AchievementCard v-if=\"mark\" :mark=\"mark\" :group=\"group\" />\r\n                    <div class=\"d-flex align-items-center mt-3\">\r\n                        <Check :theses=\"theses\" />\r\n                    </div>\r\n\r\n                    <div class=\"d-flex align-items-center mt-3 row\">\r\n                        <div class=\"text-center mb-3\" v-if=\"!expired\">\r\n                            <button class=\"btn btn-primary ms-1 me-1\" @click=\"updateStatus('acceptable')\">مقبول</button>\r\n                            <button class=\"btn btn-danger ms-1 me-1\" @click=\"updateStatus('unacceptable')\">مرفوض</button>\r\n                            <div v-if=\"msg\" class=\"alert alert-primary mt-2\">{{ msg }}</div>\r\n                        </div>\r\n\r\n                        <count-down v-if=\"week\" :week=\"week\" :timer_type=\"'audit_timer'\" />\r\n\r\n                        <Note v-if=\"mark_for_audit\" :notes=\"mark_for_audit.audit_notes\" :to=\"mark_for_audit.mark.user.parent_id\"/>\r\n                        <div class=\"d-flex align-items-center mt-3 row\">\r\n                            <div class=\"d-inline-block w-100 text-center col-12\">\r\n                                <a role=\"button\" @click=\"$router.go(-1)\" class=\" d-block mt-3 mb-3 w-75 mx-auto\">\r\n                                    <span>عودة</span>\r\n                                    <span class=\"align-middle material-symbols-outlined\">\r\n                                        keyboard_return\r\n                                    </span>\r\n                                </a>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport AchievementCard from '@/components/book/theses/achievement-card.vue'\r\nimport Check from '@/components/book/theses/check.vue'\r\nimport CountDown from '@/components/timer/Countdown.vue'\r\nimport Note from '@/components/group/audit/Note.vue'\r\nimport AuditMarkService from '@/API/services/audit-marks.service';\r\n\r\nexport default {\r\n    name: \"Audit Mark\",\r\n    async created() {\r\n\r\n        try {\r\n            const response = await AuditMarkService.markForAudit(this.$route.params.mark_for_audit);\r\n            this.mark_for_audit = response.mark_for_audit;\r\n            this.mark = response.mark_for_audit.mark;\r\n            this.theses = response.theses.reduce((groupByBook, item) => {\r\n                const group = (groupByBook[item.book.name] || []);\r\n                group['title'] = item.book.name;\r\n                group.push(item);\r\n                groupByBook[item.book.name] = group;\r\n                return groupByBook;\r\n            }, {});\r\n            this.group = response.group\r\n            this.week = response.week\r\n            this.expired = (((new Date(this.week.audit_timer)) - (new Date())) < 0)\r\n\r\n\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    components: {\r\n        Check,\r\n        AchievementCard,\r\n        CountDown,\r\n        Note\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            theses: [],\r\n            group: null,\r\n            week: null,\r\n            expired: true,\r\n            mark: null,\r\n            mark_for_audit: null,\r\n            audit_status: {\r\n                'acceptable': \"مقبول\",\r\n                'unacceptable': \"مرفوض\",\r\n                'not_audited': \"لم يتم تدقيقه\",\r\n            },\r\n            msg:'',\r\n\r\n        };\r\n    },\r\n    methods: {\r\n\r\n        /**\r\n        * return status bg-color class.\r\n        *  @param  status\r\n        * @return class\r\n        */\r\n        statusClass(status) {\r\n            switch (status) {\r\n                case 'acceptable':\r\n                    return 'bg-primary'\r\n\r\n                case 'unacceptable':\r\n                    return 'bg-danger'\r\n\r\n                default:\r\n                    return 'bg-dark'\r\n            }\r\n        },\r\n        /**\r\n        * update status of mark for audit.\r\n        *  @param  status\r\n        */\r\n        async updateStatus(status){\r\n            const response = await AuditMarkService.updateMarkForAuditStatus(status,this.$route.params.mark_for_audit);\r\n            this.mark_for_audit.status=status\r\n            this.msg='تم التدقيق'\r\n        },\r\n    }\r\n};\r\n</script>","<template>\r\n    <iq-card body-class=\"p-0\">\r\n        <template v-slot:body>\r\n\r\n            <!-- START NOTES -->\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\" style=\"background:#cae0cd;\">\r\n                        <h4 class=\"card-title\"> ملاحظات حول الانجاز </h4>\r\n                    </div>\r\n                    <div class=\"card-content\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row rounded-lg overflow-hidden shadow\">\r\n                                <!-- Chat Box-->\r\n                                <div class=\"col-12 px-0\">\r\n                                    <div class=\"px-4 py-5 chat-box bg-white\">\r\n\r\n                                        <!-- Sender Message-->\r\n                                        <!-- Reciever Message-->\r\n\r\n                                        <div class=\"media w-auto mb-3\" dir='ltr'>\r\n                                            <img src=\"https://bootstrapious.com/i/snippets/sn-chat/avatar.svg\" alt=\"user\"\r\n                                                width=\"50\" class=\"rounded-circle\">\r\n                                            <div class=\"media-body ml-3\">\r\n                                                <div class=\"bg-recipient rounded py-2 px-3 mb-2\">\r\n                                                    <p class=\"text-small mb-0 text-muted\">Test which is a new\r\n                                                        approach\r\n                                                        all solutions</p>\r\n                                                </div>\r\n                                                <p class=\"small text-muted\">12:00 PM | Aug 13</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <!-- Sender Message-->\r\n                                        <div class=\"media w-auto ml-auto mb-3\">\r\n                                            <div class=\"media-body\">\r\n                                                <div class=\"bg-sender rounded py-2 px-3 mb-2\">\r\n                                                    <p class=\"text-small mb-0 text-muted\">Apollo University, Delhi,\r\n                                                        India Test</p>\r\n                                                </div>\r\n                                                <p class=\"small text-muted\">12:00 PM | Aug 13</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <!-- Reciever Message-->\r\n\r\n                                        <div class=\"media w-auto mb-3\" dir='ltr'>\r\n                                            <img src=\"https://bootstrapious.com/i/snippets/sn-chat/avatar.svg\" alt=\"user\"\r\n                                                width=\"50\" class=\"rounded-circle\">\r\n                                            <div class=\"media-body ml-3\">\r\n                                                <div class=\"bg-recipient rounded py-2 px-3 mb-2\">\r\n                                                    <p class=\"text-small mb-0 text-muted\">Test which is a new\r\n                                                        approach\r\n                                                        all solutions</p>\r\n                                                </div>\r\n                                                <p class=\"small text-muted\">12:00 PM | Aug 13</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <!-- Sender Message-->\r\n                                        <div class=\"media w-auto ml-auto mb-3\">\r\n                                            <div class=\"media-body\">\r\n                                                <div class=\"bg-sender rounded py-2 px-3 mb-2\">\r\n                                                    <p class=\"text-small mb-0 text-muted\">Apollo University, Delhi,\r\n                                                        India Test</p>\r\n                                                </div>\r\n                                                <p class=\"small text-muted\">12:00 PM | Aug 13</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                    <!-- Typing area -->\r\n                                    <form action=\"#\" class=\"mt-2\">\r\n                                        <div class=\"input-group\">\r\n                                            <div class=\"input-group-append m-auto\">\r\n                                                <button id=\"button-addon2\" type=\"submit\" class=\"btn btn-link\">\r\n                                                    <span class=\"display-5 text-dark material-symbols-outlined\">\r\n                                                        send\r\n                                                    </span>\r\n\r\n                                                </button>\r\n                                            </div>\r\n                                            <input type=\"text\" placeholder=\"اكتب ملاحظة\" aria-describedby=\"button-addon2\"\r\n                                                class=\"border-bottom form-control rounded-0 border-0 py-4\"\r\n                                                v-model=\"v$.noteForm.body.$model\">\r\n                                        </div>\r\n                                    </form>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </iq-card>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required } from \"@vuelidate/validators\";\r\nimport AuditMarkService from '@/API/services/audit-marks.service';\r\n\r\n\r\nexport default {\r\n    name: \"Audit Notes\",\r\n    setup() {\r\n        return { v$: useVuelidate() };\r\n    },\r\n    props: {\r\n        notes: {\r\n            type: [Object],\r\n            required: true,\r\n        },\r\n        to: {\r\n            type: [Number],\r\n            required: true,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            noteForm: {\r\n                body: '',\r\n                mark_for_audit_id:0,\r\n            }\r\n        };\r\n    },\r\n    validations() {\r\n        return {\r\n            noteForm: {\r\n                body: {\r\n                    required\r\n                },\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        \r\n        /**\r\n        * Add Note.\r\n        */\r\n        async submitNote() {\r\n            this.v$.$touch();\r\n            if (!this.v$.noteForm.$invalid) {\r\n                this.message = \"\";\r\n                this.loader = true;\r\n                try {\r\n                    const response = await AuditMarkService.addNote(this.noteForm);\r\n                    this.loader = false;\r\n                    this.message = response;\r\n                    this.v$.noteForm.$reset()\r\n                }\r\n                catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n        },\r\n\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.validation-alert {\r\n    display: none;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n    width: 5px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n    width: 5px;\r\n    background: #f5f5f5;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n    width: 1em;\r\n    background-color: #ddd;\r\n    outline: 1px solid slategrey;\r\n    border-radius: 1rem;\r\n}\r\n\r\n.text-small {\r\n    font-size: 0.9rem;\r\n}\r\n\r\n.messages-box,\r\n.chat-box {\r\n    height: 510px;\r\n    overflow-y: scroll;\r\n}\r\n\r\n.rounded-lg {\r\n    border-radius: 0.5rem;\r\n}\r\n\r\ninput::placeholder {\r\n    font-size: 0.9rem;\r\n    color: #999;\r\n}\r\n\r\n.bg-sender {\r\n    background-color: #e3ebe4\r\n}\r\n\r\n.bg-recipient {\r\n    background-color: #cae0cd\r\n}\r\n</style>","import { render } from \"./Note.vue?vue&type=template&id=edb62c00&scoped=true\"\nimport script from \"./Note.vue?vue&type=script&lang=js\"\nexport * from \"./Note.vue?vue&type=script&lang=js\"\n\nimport \"./Note.vue?vue&type=style&index=0&id=edb62c00&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Asmaa\\\\osboha\\\\Osboha2022-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-edb62c00\"]])\n\nexport default __exports__","import { render } from \"./Mark.vue?vue&type=template&id=1b77f607\"\nimport script from \"./Mark.vue?vue&type=script&lang=js\"\nexport * from \"./Mark.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Asmaa\\\\osboha\\\\Osboha2022-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["AuditMarks","constructor","this","prefix","async","group_id","response","api","catch","error","handelErrors","status","request","console","log","message","data","mark_for_audit_id","id","noteForm","headers","supervisor_id","advisor_id","class","style","_createElementVNode","_hoisted_12","_hoisted_13","_createElementBlock","_hoisted_1","_createVNode","_component_iq_card","_hoisted_2","$data","mark","week","_hoisted_3","_toDisplayString","user","name","title","_hoisted_4","mark_for_audit","_normalizeClass","$options","statusClass","audit_status","_hoisted_5","_createBlock","_component_AchievementCard","group","_hoisted_6","_component_Check","theses","_hoisted_7","expired","_hoisted_8","onClick","_cache","$event","updateStatus","msg","_hoisted_9","_component_count_down","timer_type","_component_Note","notes","audit_notes","to","parent_id","_hoisted_10","_hoisted_11","role","_ctx","$router","go","dir","src","alt","width","action","type","body","_withCtx","placeholder","$setup","v$","$model","setup","useVuelidate","props","Object","required","Number","validations","methods","$touch","$invalid","loader","AuditMarkService","$reset","__exports__","$route","params","reduce","groupByBook","item","book","push","Date","audit_timer","components","Check","AchievementCard","CountDown","Note","render"],"sourceRoot":""}