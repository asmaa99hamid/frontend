{"version":3,"file":"js/1666.057bb961.js","mappings":"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","sources":["webpack://Osboha180/./node_modules/core-js/internals/delete-property-or-throw.js","webpack://Osboha180/./node_modules/core-js/modules/es.array.unshift.js","webpack://Osboha180/./src/API/services/book.service.js","webpack://Osboha180/./src/API/services/thesis.service.js","webpack://Osboha180/./src/utilities/errors.js","webpack://Osboha180/./src/components/media/ImagePreviewer.vue","webpack://Osboha180/./src/components/media/ImagePreviewer.vue?caf8","webpack://Osboha180/./src/views/Book/BookDetails.vue","webpack://Osboha180/./src/views/Book/BookDetails.vue?a0f9"],"sourcesContent":["'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_RESULT || !properErrorOnNonWritableLength();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","import { api } from \"../Intercepter\";\r\nimport { handleError } from \"vue\";\r\nimport { customHandleError } from \"../../utilities/errors\";\r\n\r\nclass BookService {\r\n  async create(\r\n    name,\r\n    writer,\r\n    publisher,\r\n    brief,\r\n    startPage,\r\n    endPage,\r\n    link,\r\n    sectionId,\r\n    image,\r\n    level,\r\n    type_id\r\n  ) {\r\n    let formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"writer\", writer);\r\n    formData.append(\"start_page\", startPage);\r\n    formData.append(\"end_page\", endPage);\r\n    formData.append(\"publisher\", publisher);\r\n    formData.append(\"brief\", brief);\r\n    formData.append(\"link\", link);\r\n    formData.append(\"type_id\", type_id);\r\n    formData.append(\"section_id\", sectionId);\r\n    formData.append(\"level\", level);\r\n    formData.append(\"image\", image);\r\n    try {\r\n      const response = await api.post(\"/books\", formData, {\r\n        headers: { \"Content-type\": \"multipart/form-data\" },\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  async getAll(page) {\r\n    try {\r\n      const books = await api.get(`books?page=` + page);\r\n      return books.data.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getById(id) {\r\n    try {\r\n      const book = await api.get(`/books/${id}`);\r\n      return book.data;\r\n    } catch (error) {\r\n      customHandleError(error, \"BookService.getById\");\r\n    }\r\n  }\r\n\r\n  async deleteById(id) {\r\n    try {\r\n      return await api.delete(`/books/${id}`);\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  async getBooksByType(typeId) {\r\n    try {\r\n      const books = await api.get(`/books/type/${typeId}`);\r\n      return books.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  async getBooksByLevel(level, page) {\r\n    try {\r\n      const books = await api.get(`/books/level/${level}?page=${page}`);\r\n      return books.data.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getBooksByName(name, page) {\r\n    try {\r\n      const books = await api.post(`/books/name?page=${page}`, {\r\n        name,\r\n      });\r\n      return books.data.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getBooksByLanguage(language, page) {\r\n    try {\r\n      const books = await api.get(`/books/language/${language}?page=${page}`);\r\n      return books.data.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getBooksBySection(sectionId) {\r\n    try {\r\n      const books = await api.get(`/books/section/${sectionId}`);\r\n      return books.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  async getRecentAddedBooks() {\r\n    try {\r\n      const books = await api.get(`/books/recent-added-books`);\r\n      return books.data.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  async getMostReadableBooks() {\r\n    try {\r\n      const books = await api.get(`/books/most-readable-books`);\r\n      return books.data.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  async getRandomBook() {\r\n    try {\r\n      const book = await api.get(`/books/random-book`);\r\n      return book.data.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  async latestBooks() {\r\n    try {\r\n      const book = await api.get(`/books/latest`);\r\n      return book.data.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return \"\";\r\n    }\r\n  }\r\n}\r\n\r\nexport default new BookService();\r\n","import { api } from \"../Intercepter\";\r\nimport { handleError } from \"vue\";\r\n\r\nclass ThesisService {\r\n  async getThesisById(thesis_id) {\r\n    try {\r\n      const thesis = await api.get(`/theses/${thesis_id}`);\r\n      return thesis.data.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getBookThesis(book_id, thesis_id) {\r\n    try {\r\n      const thesis = await api.get(\r\n        `/theses/book/${book_id}/thesis/${thesis_id}`\r\n      );\r\n      return thesis.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getThesesByBookId(id, page, user_id = \"\") {\r\n    try {\r\n      const theses = await api.get(\r\n        `/theses/book/${id}/user/${user_id}?page=${page}`\r\n      );\r\n      return theses.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getThesisByUser(id, page) {\r\n    try {\r\n      const theses = await api.get(`/theses/user/${id}?page=${page}`);\r\n      return theses.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getThesisByWeek(id) {\r\n    try {\r\n      const thesis = await api.get(`/theses/week/${id}`);\r\n      return thesis.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ThesisService();\r\n","import router from \"../router\";\r\n\r\nexport function customHandleError(error, page = \"\") {\r\n  console.log(`[ERROR] ${page} =>`, error.response.data);\r\n  if (error.response.data.statusCode === 404) {\r\n    router.push({ name: \"NotFound\" });\r\n  } else if (error.response.data.statusCode === 403) {\r\n    router.push({ name: \"NotAuthorized\" });\r\n  }\r\n  throw error;\r\n}\r\n","<template>\r\n  <div class=\"preview-images\">\r\n    <div\r\n      class=\"image-container\"\r\n      v-for=\"(previewUrl, index) in previewUrls\"\r\n      :key=\"previewUrl.url\"\r\n    >\r\n      <div class=\"delete-image\" @click=\"removeMedia(index)\">\r\n        <span> x </span>\r\n      </div>\r\n      <img :src=\"previewUrl.url\" v-if=\"previewUrl.type.includes('image')\" />\r\n      <video :src=\"previewUrl.url\" v-else autoplay />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ImagePreviewer\",\r\n  props: {\r\n    media: {\r\n      type: [Array, FileList],\r\n      default: () => [],\r\n    },\r\n  },\r\n  emits: [\"remove-media\"],\r\n  data() {\r\n    return {\r\n      previewUrls: [],\r\n    };\r\n  },\r\n  methods: {\r\n    previewMedia() {\r\n      this.previewUrls = [];\r\n      const images = [...this.media];\r\n      images.forEach((image) => {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          this.previewUrls.push({\r\n            url: reader.result,\r\n            type: image.type,\r\n          });\r\n        };\r\n        reader.readAsDataURL(image);\r\n      });\r\n    },\r\n    removeMedia(index) {\r\n      this.previewUrls.splice(index, 1);\r\n      this.$emit(\"remove-media\", index);\r\n    },\r\n    clearMedia() {\r\n      this.previewUrls = [];\r\n    },\r\n  },\r\n  mounted() {\r\n    this.previewMedia();\r\n  },\r\n  watch: {\r\n    media() {\r\n      this.previewMedia();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.preview-images {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-top: 10px;\r\n}\r\n.image-container {\r\n  margin-right: 10px;\r\n  margin-bottom: 10px;\r\n  height: 60px;\r\n  width: 60px;\r\n  position: relative;\r\n}\r\n\r\n.image-container img,\r\n.image-container video {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border: 1px solid #ddd;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.delete-image {\r\n  position: absolute;\r\n  top: -5px;\r\n  right: -5px;\r\n  z-index: 1;\r\n  height: 20px;\r\n  width: 20px;\r\n  background: #fff;\r\n  border-radius: 50%;\r\n  padding: 5px;\r\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\r\n  color: #000;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import { render } from \"./ImagePreviewer.vue?vue&type=template&id=062dc946\"\nimport script from \"./ImagePreviewer.vue?vue&type=script&lang=js\"\nexport * from \"./ImagePreviewer.vue?vue&type=script&lang=js\"\n\nimport \"./ImagePreviewer.vue?vue&type=style&index=0&id=062dc946&lang=css\"\n\nimport exportComponent from \"D:\\\\Asmaa\\\\osboha\\\\Osboha2022-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <main>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card card-block card-stretch card-height blog blog-detail\">\r\n          <div class=\"card-body\">\r\n            <div class=\"position-absolute start-0\">\r\n              <span\r\n                role=\"button\"\r\n                @click=\"download(book?.book?.link)\"\r\n                class=\"material-symbols-outlined align-middle display-5 me-3\"\r\n              >\r\n                download\r\n              </span>\r\n            </div>\r\n\r\n            <div class=\"image-block text-center mt-3\">\r\n              <img\r\n                :src=\"resolve_img_url(book?.book?.media?.path ?? '')\"\r\n                class=\"img-fluid rounded w-25\"\r\n                alt=\"blog-img\"\r\n              />\r\n            </div>\r\n            <div class=\"blog-description mt-3 text-center\">\r\n              <h2 class=\"mb-3 pb-3 border-bottom text-center\">\r\n                {{ book?.book?.name }}\r\n              </h2>\r\n              <div\r\n                class=\"blog-meta d-flex align-items-center mb-3 position-right-side flex-wrap\"\r\n              >\r\n                <div class=\"date me-4 d-flex align-items-center\">\r\n                  <i class=\"material-symbols-outlined pe-2 md-18 text-primary\"\r\n                    >calendar_month</i\r\n                  >تاريخ الاضافة {{ formattedDate }}\r\n                </div>\r\n                <div class=\"like me-4 d-flex align-items-center\">\r\n                  <i class=\"material-symbols-outlined pe-2 md-18 text-primary\">\r\n                    star\r\n                  </i>\r\n                  {{ book?.rate }}% تقييم\r\n                </div>\r\n                <div class=\"comments me-4 d-flex align-items-center\">\r\n                  <i class=\"material-symbols-outlined pe-2 md-18 text-primary\">\r\n                    book\r\n                  </i>\r\n                  عدد الصفحات:\r\n                  {{ book?.book?.end_page }}\r\n                </div>\r\n                <div class=\"comments me-4 d-flex align-items-center\">\r\n                  <i class=\"material-symbols-outlined pe-2 md-18 text-primary\">\r\n                    comment </i\r\n                  >{{ book?.theses_count }} أطروحة\r\n                </div>\r\n                <div class=\"comments me-4 d-flex align-items-center\">\r\n                  <i class=\"material-symbols-outlined pe-2 md-18 text-primary\">\r\n                    mode_comment </i\r\n                  >{{ book?.comments_count }} تعليق\r\n                </div>\r\n              </div>\r\n              <div class=\"text-center\">\r\n                {{ shortBriefText }}\r\n                <a class=\"load-btn\" v-on:click=\"loadMoreBriefText\" v-if=\"isMore\"\r\n                  >...قراءة المزيد</a\r\n                >\r\n                <a class=\"load-btn\" v-on:click=\"loadLessBriefText\" v-if=\"isLess\"\r\n                  >قراءة أقل</a\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-12\" v-if=\"book?.book?.allow_comments\">\r\n        <div class=\"card card-block card-stretch card-height blog\">\r\n          <button\r\n            type=\"submit\"\r\n            class=\"btn btn-primary d-block w-100\"\r\n            data-bs-toggle=\"modal\"\r\n            data-bs-target=\"#modals\"\r\n          >\r\n            كتابة أطروحة\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"card card-block card-stretch card-height blog user-comment\">\r\n          <div class=\"card-header d-flex justify-content-between\">\r\n            <div class=\"header-title\">\r\n              <h4 class=\"card-title\">الأطروحات</h4>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"row\" v-if=\"theses.length\">\r\n              <!-- display theses -->\r\n              <div\r\n                class=\"col-lg-12\"\r\n                v-for=\"comment in theses\"\r\n                :key=\"comment.id\"\r\n              >\r\n                <div class=\"card card-block card-stretch card-height blog\">\r\n                  <div class=\"card-body\">\r\n                    <Comment\r\n                      :allowComment=\"book?.book?.allow_comments\"\r\n                      :comment=\"comment\"\r\n                      :totalThesisPages=\"\r\n                        comment.thesis\r\n                          ? comment.thesis.end_page -\r\n                              comment.thesis.start_page >\r\n                            0\r\n                            ? comment.thesis.end_page -\r\n                              comment.thesis.start_page +\r\n                              1\r\n                            : 0\r\n                          : 0\r\n                      \"\r\n                      @addComment=\"addComment\"\r\n                      @editComment=\"editComment\"\r\n                      @reactToComment=\"reactToComment\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <modal\r\n                  :id=\"`editThesis-${comment.id}`\"\r\n                  ref=\"editThesisRef\"\r\n                  dialogClass=\"modal-dialog-centered modal-dialog-scrollable\"\r\n                  tabindex=\"-1\"\r\n                  aria-labelledby=\"editThesis\"\r\n                  :aria-hidden=\"false\"\r\n                >\r\n                  <model-header>\r\n                    <h5 class=\"modal-title\" id=\"modalsLabel\">تعديل الأطروحة</h5>\r\n                    <a\r\n                      href=\"javascript:void(0);\"\r\n                      class=\"lh-1\"\r\n                      data-bs-dismiss=\"modal\"\r\n                      ref=\"editCloseBtn\"\r\n                    >\r\n                      <span class=\"material-symbols-outlined\">close</span>\r\n                    </a>\r\n                  </model-header>\r\n                  <model-body>\r\n                    <createThesis :book=\"book?.book\" :thesisToEdit=\"comment\" />\r\n                  </model-body>\r\n                </modal>\r\n              </div>\r\n\r\n              <div class=\"col-sm-12 text-center\" v-if=\"loading\">\r\n                <img\r\n                  :src=\"\r\n                    require('@/assets/images/page-img/page-load-loader.gif')\r\n                  \"\r\n                  alt=\"loader\"\r\n                  style=\"height: 100px\"\r\n                />\r\n              </div>\r\n\r\n              <!-- <div class=\"col-lg-12\">\r\n                <div class=\"card card-block card-stretch card-height blog\">\r\n                  <CreateComment :type=\"'comment'\" @addComment=\"addComment\" />\r\n                </div>\r\n              </div> -->\r\n              <!--Load more thesis-->\r\n              <div class=\"col-lg-12\">\r\n                <div class=\"card card-block card-stretch card-height blog\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-primary d-block w-100\"\r\n                    v-if=\"hasMoreTheses\"\r\n                    @click=\"loadMoreTheses\"\r\n                    :disabled=\"loading\"\r\n                  >\r\n                    تحميل المزيد\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\" v-else>\r\n              <div class=\"col-lg-12\">\r\n                <div class=\"text-center d-flex align-items-center\">\r\n                  <span class=\"material-symbols-outlined\">\r\n                    comments_disabled\r\n                  </span>\r\n                  <h5 class=\"ms-2\" v-if=\"$route.params.thesis_id\">\r\n                    لم يتم العثور على هذه الأطروحة\r\n                  </h5>\r\n                  <h5 class=\"ms-2\" v-else>\r\n                    لا يوجد أطروحات\r\n                    <span v-if=\"$route.params.user_id\">لهذا السفير</span>\r\n                  </h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <modal\r\n      id=\"modals\"\r\n      ref=\"modals\"\r\n      dialogClass=\"modal-dialog-centered modal-dialog-scrollable\"\r\n      tabindex=\"-1\"\r\n      aria-labelledby=\"modalsLabel\"\r\n      :aria-hidden=\"false\"\r\n    >\r\n      <model-header>\r\n        <h5 class=\"modal-title\" id=\"modalsLabel\">\r\n          {{ book?.book?.name }} || أطروحة جديدة\r\n        </h5>\r\n        <a\r\n          href=\"javascript:void(0);\"\r\n          class=\"lh-1\"\r\n          data-bs-dismiss=\"modal\"\r\n          ref=\"closeBtn\"\r\n        >\r\n          <span class=\"material-symbols-outlined\">close</span>\r\n        </a>\r\n      </model-header>\r\n      <model-body>\r\n        <createThesis\r\n          :book=\"book?.book\"\r\n          :lastThesis=\"book?.last_thesis\"\r\n          @closeModel=\"closeModel\"\r\n          @addThesis=\"addThesis\"\r\n        />\r\n      </model-body>\r\n    </modal>\r\n  </main>\r\n</template>\r\n<script>\r\nimport Comment from \"@/components/comment/Comment.vue\";\r\nimport CreateComment from \"@/components/comment/CreateComment.vue\";\r\nimport createThesis from \"@/components/book/theses/create.vue\";\r\nimport bookService from \"@/API/services/book.service\";\r\nimport thesisService from \"@/API/services/thesis.service\";\r\nimport moment from \"moment\";\r\nimport helper from \"@/utilities/helper\";\r\n\r\nexport default {\r\n  name: \"BookDetails\",\r\n  components: {\r\n    Comment,\r\n    createThesis,\r\n    // CreateComment,\r\n  },\r\n  provide() {\r\n    return {\r\n      deleteComment: this.deleteComment,\r\n    };\r\n  },\r\n  // props: [\"id\"],\r\n  async created() {\r\n    await this.getBook(this.$route.params.book_id);\r\n    await this.getTheses(this.page);\r\n    window.addEventListener('popstate', this.popstateEventAction);\r\n  },\r\n  data() {\r\n    return {\r\n      theses: [],\r\n      book: null,\r\n      fullBriefText: \"\",\r\n      shortBriefText: \"\",\r\n      page: 1,\r\n      totalTheses: 0,\r\n      loading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    popstateEventAction() {\r\n      const body = document.querySelector('body');\r\n      body.removeAttribute(\"data-bs-overflow\")\r\n      body.removeAttribute(\"data-bs-padding-right\");\r\n      body.removeAttribute(\"style\");\r\n      body.classList.remove(\"modal-open\");\r\n      const element = document.getElementsByClassName(\"modal-backdrop\");\r\n      for(let i=0; i < element.length ; i++){\r\n        element[i].remove();\r\n      }\r\n      this.removePopstateEventAction();\r\n    },\r\n    removePopstateEventAction() {\r\n      window.removeEventListener('popstate', this.popstateEventAction);\r\n    },\r\n    async getBook(id) {\r\n      const response = await bookService.getById(id);\r\n      this.book = response.data;\r\n      this.fullBriefText = this.book.book?.brief;\r\n      this.shortBriefText = this.fullBriefText?.slice(0, 200);\r\n    },\r\n    loadMoreBriefText() {\r\n      this.shortBriefText = this.fullBriefText;\r\n    },\r\n    loadLessBriefText() {\r\n      this.shortBriefText = this.fullBriefText?.slice(0, 200);\r\n    },\r\n    resolve_img_url: function (path) {\r\n      return path ? path : require(\"@/assets/images/main/200x200-book.png\");\r\n    },\r\n    async getTheses(page) {\r\n      if (this.loading || !this.book) return;\r\n\r\n      this.loading = true;\r\n      try {\r\n        let response;\r\n        if (this.$route.params.thesis_id) {\r\n          response = await thesisService.getBookThesis(\r\n            this.$route.params.book_id,\r\n            this.$route.params.thesis_id\r\n          );\r\n        } else {\r\n          response = await thesisService.getThesesByBookId(\r\n            this.$route.params.book_id,\r\n            page,\r\n            this.$route.params.user_id ?? \"\"\r\n          );\r\n        }\r\n\r\n        if (response.statusCode === 200) {\r\n          this.theses.push(...response.data.theses);\r\n          this.totalTheses = response.data.total;\r\n        } else {\r\n          helper.toggleToast(\r\n            \"حدث خطأ أثناء تحميل البيانات, الرجاء المحاولة مرة أخرى\",\r\n            \"error\"\r\n          );\r\n        }\r\n      } catch (e) {\r\n        helper.toggleToast(\r\n          \"حدث خطأ أثناء تحميل البيانات, الرجاء المحاولة مرة أخرى\",\r\n          \"error\"\r\n        );\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async loadMoreTheses() {\r\n      this.page++;\r\n      await this.getTheses(this.page);\r\n    },\r\n    async closeModel() {\r\n      this.$refs.closeBtn.click();\r\n    },\r\n\r\n    addThesis(thesis) {\r\n      this.theses.unshift(thesis);\r\n      this.book.theses_count++;\r\n      this.book.comments_count =\r\n        this.book.comments_count + thesis.replies.length + 1;\r\n      this.totalTheses++;\r\n      this.book.book.userBooks = thesis.user.userBooks;\r\n      this.book.last_thesis = thesis.thesis;\r\n\r\n      if (\r\n        this.book.book.userBooks.length > 0 &&\r\n        this.book.book.userBooks[0].status === \"finished\"\r\n      ) {\r\n        helper.toggleToast(\"تهانينا, لقد أنهيت الكتاب\", \"success\");\r\n      }\r\n    },\r\n    findComment(theses, comment_id) {\r\n      for (let i = 0; i < theses.length; i++) {\r\n        if (theses[i].id === comment_id) {\r\n          return theses[i];\r\n        } else if (theses[i].replies.length > 0) {\r\n          const comment = this.findComment(theses[i].replies, comment_id);\r\n          if (comment) {\r\n            return comment;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    addComment(reply, comment_id) {\r\n      if (!comment_id) {\r\n        this.theses.push(reply);\r\n        this.book.comments_count++;\r\n        this.totalTheses++;\r\n        return;\r\n      } else {\r\n        const comment = this.findComment(this.theses, comment_id);\r\n        comment.replies.push(reply);\r\n        this.book.comments_count++;\r\n      }\r\n    },\r\n    deleteComment(comment_id) {\r\n      for (let i = 0; i < this.theses.length; i++) {\r\n        if (this.theses[i].id === comment_id) {\r\n          this.theses.splice(i, 1);\r\n          this.book.comments_count--;\r\n          this.totalTheses--;\r\n          return;\r\n        } else if (this.theses[i].replies.length > 0) {\r\n          for (let j = 0; j < this.theses[i].replies.length; j++) {\r\n            if (this.theses[i].replies[j].id === comment_id) {\r\n              this.theses[i].replies.splice(j, 1);\r\n              this.book.comments_count--;\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    editComment(comment) {\r\n      let commentToEdit = this.findComment(this.theses, comment.id);\r\n      commentToEdit.body = comment.body;\r\n      commentToEdit.media = comment.media;\r\n    },\r\n    reactToComment(comment_id, status) {\r\n      let comment = this.findComment(this.theses, comment_id);\r\n      if (status) {\r\n        comment.reactions_count++;\r\n        comment.reacted_by_user = true;\r\n      } else {\r\n        comment.reactions_count--;\r\n        comment.reacted_by_user = false;\r\n      }\r\n    },\r\n    download(link) {\r\n      const swalWithBootstrapButtons = this.$swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-primary btn-lg\",\r\n          cancelButton: \"btn btn-outline-primary btn-lg ms-2\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n      swalWithBootstrapButtons\r\n        .fire({\r\n          title: \"ملاحظة هامة\",\r\n          text: \"في مشروعنا لن لا نقوم أبدًا بتصوير الكتب المطبوعة ولا نقوم بنسب هذه الكتب للمشروع أو محاولة إخفاء أسماء دور النشر وحقوقها . إنما كل ما نقوم به هو عملية البحث عن هذه الكتب في مواقع الانترنت و إحضار روابط الحصول عليها للاستفادة منها . علمًا أننا لا نقوم بعملية بيع للكتب أو الاستفادة المادية منها مطلقًا ولكننا نؤمن أن من حق دور النشر إيجاد وسائل لمنع تصوير كتبها ووضعها على مواقع الانترنت ولكن أن يتواجد الكتاب على الانترنت مجانًا سواء عن طريق موقع لديه أذن بالنشر ، أو عن طريق كاتب الكتاب أو غيرهم ، ثم لا نقوم بقراءة هذه الكتب ونمنع أنفسنا من العلم فهذا الأمر لن يساهم في عملية ايقاف الكتب الالكترونية إنما سوف يساهم فقط بمنع أنفسنا عن علم مطروح وتقييد أنفسنا بظروف تدفعنا للجهل والتوقف عن التعلم . علمًا أن المشروع يتعهد دومًا بحذف أي كتاب من المنهج إذا لم يناسب وجوده كاتب الكتب أو دار النشر الخاصة بالكتاب ، فبإمكان كل شخص إما قراءة الكتاب مطبوعًا أو الاستفادة من النسخ التي نجمعها من مواقع الكتب المنتشرة مع إخلاء مسؤوليتنا حول إن كانت هذه المواقع لديها أذن بالنشر والتوزيع من عدمه فنترك هذا الأمر لدور النشر . هذا ونسأل الله أن يصلح نوايانا ويجعلها خالصة لوجهه الكريم وتطبيقًا لأمره لنا بالقراءة لأجل التعلم والتفكر . والله أعلم .\",\r\n          icon: \"warning\",\r\n          showCancelButton: true,\r\n          confirmButtonText: \"تحميل\",\r\n          cancelButtonText: \"إلغاء\",\r\n          showClass: {\r\n            popup: \"animate__animated animate__zoomIn\",\r\n          },\r\n          hideClass: {\r\n            popup: \"animate__animated animate__zoomOut\",\r\n          },\r\n        })\r\n        .then((result) => {\r\n          if (result.isConfirmed) {\r\n            window.open(link, \"_blank\");\r\n          }\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    formattedDate() {\r\n      return moment(this.book?.created_at).format(\"YYYY-MM-DD\");\r\n    },\r\n    isMore() {\r\n      return this.shortBriefText?.length < this.fullBriefText?.length;\r\n    },\r\n    isLess() {\r\n      return (\r\n        this.shortBriefText?.length >= this.fullBriefText?.length &&\r\n        this.fullBriefText?.length > 200\r\n      );\r\n    },\r\n    hasMoreTheses() {\r\n      return (\r\n        this.theses.length < this.totalTheses &&\r\n        this.totalTheses > 0 &&\r\n        this.theses.length > 0\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.load-btn {\r\n  color: #216d2e;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./BookDetails.vue?vue&type=template&id=dabd5f48\"\nimport script from \"./BookDetails.vue?vue&type=script&lang=js\"\nexport * from \"./BookDetails.vue?vue&type=script&lang=js\"\n\nimport \"./BookDetails.vue?vue&type=style&index=0&id=dabd5f48&lang=css\"\n\nimport exportComponent from \"D:\\\\Asmaa\\\\osboha\\\\Osboha2022-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["tryToString","$TypeError","TypeError","module","exports","O","P","$","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","unshift","properErrorOnNonWritableLength","Object","defineProperty","writable","error","FORCED","target","proto","arity","forced","item","this","len","argCount","arguments","length","k","to","j","BookService","async","name","writer","publisher","brief","startPage","endPage","link","sectionId","image","level","type_id","formData","FormData","append","response","api","headers","data","page","books","handleError","id","book","customHandleError","typeId","language","console","log","ThesisService","thesis_id","thesis","book_id","user_id","theses","statusCode","router","class","_createElementVNode","_hoisted_3","_createElementBlock","_hoisted_1","_Fragment","_renderList","$data","previewUrls","previewUrl","index","key","url","onClick","$event","$options","removeMedia","type","includes","src","autoplay","props","media","Array","FileList","default","emits","methods","previewMedia","images","forEach","reader","FileReader","onload","push","result","readAsDataURL","splice","$emit","clearMedia","mounted","watch","__exports__","render","_hoisted_23","_hoisted_33","href","ref","_hoisted_49","_hoisted_2","_hoisted_4","_hoisted_5","role","_cache","download","_hoisted_6","resolve_img_url","path","alt","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_hoisted_12","formattedDate","_hoisted_13","_hoisted_14","rate","_hoisted_15","_hoisted_16","end_page","_hoisted_17","_hoisted_18","theses_count","_hoisted_19","_hoisted_20","comments_count","_hoisted_21","shortBriefText","isMore","args","loadMoreBriefText","isLess","loadLessBriefText","allow_comments","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","comment","_hoisted_30","_hoisted_31","_createVNode","_component_Comment","allowComment","totalThesisPages","start_page","onAddComment","addComment","onEditComment","editComment","onReactToComment","reactToComment","_component_modal","dialogClass","tabindex","_component_model_header","_hoisted_32","_component_model_body","_component_createThesis","thesisToEdit","loading","_hoisted_35","require","style","_hoisted_37","_hoisted_38","hasMoreTheses","loadMoreTheses","disabled","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_ctx","$route","params","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_50","lastThesis","last_thesis","onCloseModel","closeModel","onAddThesis","addThesis","components","Comment","createThesis","provide","deleteComment","getBook","getTheses","window","addEventListener","popstateEventAction","fullBriefText","totalTheses","body","document","querySelector","removeAttribute","classList","remove","element","getElementsByClassName","i","removePopstateEventAction","removeEventListener","bookService","slice","thesisService","total","helper","e","$refs","closeBtn","click","replies","userBooks","user","status","findComment","comment_id","reply","commentToEdit","reactions_count","reacted_by_user","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","isConfirmed","open","computed","moment","created_at","format"],"sourceRoot":""}