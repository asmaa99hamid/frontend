"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[6167],{2985:function(t,e,a){var s=a(66252),n=a(79940),i=a(24150);class c{async create(t){try{const e=await i.hi.post("/userexception/create",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,s.S3)(e)}}async getExceptionById(t){try{const e=await i.hi.get(`userexception/show/${t}`);return e.data.data}catch(e){(0,n.F)(e)}}async update(t,e){try{const a=await i.hi.patch(`userexception/${t}`,e,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){return a}}async updateStatus(t,e){try{const a=await i.hi.patch(`userexception/update-status/${t}`,{decision:e.decision,note:e.note});return a.data.data}catch(a){return a}}async updateExceptionTypeById(t,e){try{return await i.hi.post("/userexception/update",{id:t,type:e})}catch(a){return a}}async cancelException(t){try{return await i.hi.get(`userexception/cancel/${t}`)}catch(e){return e}}async getAllUserExceptions(t){try{const e=await i.hi.get(`userexception/user-exceptions/${t}`);return e.data.data}catch(e){return e}}async exceptionsFilter(t,e){try{const a=await i.hi.get(`userexception/exceptions-filter/${t}/${e}`);return a.data.data}catch(a){return a}}}e["Z"]=new c},79940:function(t,e,a){a.d(e,{F:function(){return n}});a(57658);var s=a(1120);function n(t,e=""){throw console.log(`[ERROR] ${e} =>`,t.response.data),404===t.response.data.statusCode?s.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&s.Z.push({name:"NotAuthorized"}),t}},66167:function(t,e,a){a.r(e),a.d(e,{default:function(){return L}});var s=a(66252),n=a(3577);const i={class:"col-sm-12 mt-3"},c={class:"iq-card-header-toolbar d-flex align-items-center mx-auto"},o={class:"text-center mt-3 mb-3"},r={class:"iq-card-body p-3"},l={class:"d-flex align-items-center mt-3"},d={class:"col-12"},u={class:"card card-block card-stretch card-height blog"},p=(0,s._)("div",{class:"card-header"},[(0,s._)("h2",null,"الاجازات")],-1),h={class:"card-body"},_={class:"form-group"},y=(0,s._)("option",{value:""},"فلترة حسب",-1),x=(0,s._)("option",{value:"oldest"}," الأقدم ",-1),m=(0,s._)("option",{value:"latest"}," الأحدث ",-1),w=(0,s._)("option",{value:"freez"}," تجميد فقط ",-1),g=(0,s._)("option",{value:"exceptional_freez"}," تجميد استثنائي فقط ",-1),v=(0,s._)("option",{value:"exams"}," امتحانات فقط ",-1),f=(0,s._)("option",{value:"accepted"}," مقبول ",-1),b=(0,s._)("option",{value:"pending"}," بانتظار الموافقة ",-1),k=(0,s._)("option",{value:"rejected"}," مرفوض ",-1),$=(0,s._)("option",{value:"finished"}," منتهي ",-1),C=[y,x,m,w,g,v,f,b,k,$],E={class:"blog-description"},z={class:"table w-100"},D=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"نوع الاجازة"),(0,s._)("th",{scope:"col"},"الحالة"),(0,s._)("th",{scope:"col"},"الانتهاء")])],-1),Z={key:0},F={key:0},q={key:1},A=(0,s._)("td",null,[(0,s._)("i",{role:"button",class:"material-symbols-outlined md-18 me-1 text-primary"}," visibility ")],-1),O={key:1},R=(0,s._)("tr",{colspan:"4"},[(0,s._)("td",null,"لا يوجد بيانات لعرضها")],-1),j=[R],B=(0,s._)("hr",null,null,-1),I={class:"d-flex align-items-center mt-3 row"},N={class:"d-inline-block w-100 text-center col-12"};function S(t,e,a,y,x,m){const w=(0,s.up)("router-link"),g=(0,s.up)("iq-card");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",i,[(0,s.Wm)(g,{class:"iq-card"},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s._)("h3",o,(0,n.zw)(x.week_title),1)]),(0,s._)("div",r,[(0,s._)("div",l,[(0,s._)("div",d,[(0,s._)("div",u,[p,(0,s._)("div",h,[(0,s._)("div",_,[(0,s._)("select",{class:"form-select",onChange:e[0]||(e[0]=t=>m.filter(t)),"data-trigger":"",name:"choices-single-default",id:"choices-single-default"},C,32)]),(0,s._)("div",E,[(0,s._)("table",z,[D,x.exceptions&&x.exceptions.length>0?((0,s.wg)(),(0,s.iD)("tbody",Z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(x.exceptions,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,(0,n.zw)(t.type.type),1),(0,s._)("td",null,(0,n.zw)(x.exception_status[t.status]),1),t.end_at?((0,s.wg)(),(0,s.iD)("td",F,(0,n.zw)(t.end_at),1)):((0,s.wg)(),(0,s.iD)("td",q,"------")),(0,s.Wm)(w,{to:{name:"exceptions.listException",params:{exception_id:t.id}}},{default:(0,s.w5)((()=>[A])),_:2},1032,["to"])])))),128))])):((0,s.wg)(),(0,s.iD)("tbody",O,j))]),B])])])])]),(0,s._)("div",I,[(0,s._)("div",N,[(0,s._)("button",{type:"",onClick:e[1]||(e[1]=t=>m.back()),class:"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto"}," عودة للملف الشخصي ")])])])])),_:1})])])}a(57658);var U=a(2985),W={name:"List Exceptions",async created(){try{const t=await U.Z.getAllUserExceptions(this.user_id);this.exceptions=t.exceptions,this.week_title=t.week.title}catch(t){console.log(t)}},data(){return{exceptions:null,group_title:"",week_title:"",user_id:this.$route.params.user_id,exception_status:{pending:"قيد المراجعة",accepted:"مقبول",rejected:"مرفوض",cancelled:"ملغي",finished:"منتهي"}}},methods:{back(){this.$router.push({name:"user.profile",params:{user_id:this.user_id}})},async filter(t){this.exceptions=await U.Z.exceptionsFilter(t.target.value,this.user_id)}}},H=a(83744);const K=(0,H.Z)(W,[["render",S]]);var L=K}}]);
//# sourceMappingURL=6167.03d83003.js.map