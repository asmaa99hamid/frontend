"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[8452],{34964:function(e,t,o){var a=o(24150),s=o(66252),n=o(79940);class i{async create(e,t,o,s,n,i,r,c,l,d,u){let p=new FormData;p.append("name",e),p.append("writer",t),p.append("start_page",n),p.append("end_page",i),p.append("publisher",o),p.append("brief",s),p.append("link",r),p.append("type_id",u),p.append("section_id",c),p.append("level",d),p.append("image",l);try{const e=await a.hi.post("/books",p,{headers:{"Content-type":"multipart/form-data"}});return e.data}catch(h){return h}}async getAll(e){try{const t=await a.hi.get("books?page="+e);return t.data.data}catch(t){(0,s.S3)(t)}}async getById(e){try{const t=await a.hi.get(`/books/${e}`);return t.data}catch(t){(0,n.F)(t,"BookService.getById")}}async deleteById(e){try{return await a.hi["delete"](`/books/${e}`)}catch(t){return t}}async getBooksByType(e){try{const t=await a.hi.get(`/books/type/${e}`);return t.data}catch(t){return t}}async getBooksByLevel(e,t){try{const o=await a.hi.get(`/books/level/${e}?page=${t}`);return o.data.data}catch(o){(0,s.S3)(o)}}async getBooksByName(e,t){try{const o=await a.hi.post(`/books/name?page=${t}`,{name:e});return o.data.data}catch(o){(0,s.S3)(o)}}async getBooksByLanguage(e,t){try{const o=await a.hi.get(`/books/language/${e}?page=${t}`);return o.data.data}catch(o){(0,s.S3)(o)}}async getBooksBySection(e){try{const t=await a.hi.get(`/books/section/${e}`);return t.data}catch(t){return t}}async getRecentAddedBooks(){try{const e=await a.hi.get("/books/recent-added-books");return e.data.data}catch(e){return console.log(e),""}}async getMostReadableBooks(){try{const e=await a.hi.get("/books/most-readable-books");return e.data.data}catch(e){return console.log(e),""}}async getRandomBook(){try{const e=await a.hi.get("/books/random-book");return e.data.data}catch(e){return console.log(e),""}}async latestBooks(){try{const e=await a.hi.get("/books/latest");return e.data.data}catch(e){return console.log(e),""}}}t["Z"]=new i},27522:function(e,t,o){var a=o(66252),s=o(24150);class n{async create(e){const t=new FormData;if(t.append("type",e.type),e.post_id&&t.append("post_id",e.post_id),e.book_id&&t.append("book_id",e.book_id),e.comment_id&&t.append("comment_id",e.comment_id),e.body&&t.append("body",e.body),e.screenShots&&e.screenShots.length>0)for(let a=0;a<e.screenShots.length;a++)t.append("screenShots[]",e.screenShots[a]);e.start_page&&t.append("start_page",e.start_page),e.end_page&&t.append("end_page",e.end_page),e.image&&t.append("image",e.image);for(const a of t.entries())console.log(`${a[0]}, ${a[1]}`);try{const e=await s.hi.post("/comments",t,{headers:{"Content-type":"multipart/form-data"}});return e.data}catch(o){(0,a.S3)(o)}}async getPostComments(e,t,o=""){try{const a=await s.hi.get(`/comments/post/${e}/${o}?page=${t}`);return a.data}catch(n){(0,a.S3)(n)}}async getPostCommentsUsers(e){try{const t=await s.hi.get(`/comments/post/${e}/users`);return t.data}catch(t){(0,a.S3)(t)}}async update(e){const t=new FormData;if(t.append("u_comment_id",e.u_comment_id),e.body&&t.append("body",e.body),e.screenShots&&e.screenShots.length>0)for(let a=0;a<e.screenShots.length;a++)t.append("screenShots[]",e.screenShots[a]);e.start_page&&t.append("start_page",e.start_page),e.end_page&&t.append("end_page",e.end_page),e.image&&t.append("image",e.image);for(const a of t.entries())console.log(`${a[0]}, ${a[1]}`);try{const e=await s.hi.post("/comments/update",t,{"Content-type":"multipart/form-data"});return e.data}catch(o){(0,a.S3)(o)}}async delete(e){try{return await s.hi["delete"](`/comments/${e}`)}catch(t){(0,a.S3)(t)}}}t["Z"]=new n},19057:function(e,t,o){var a=o(66252),s=o(24150);class n{async getUserBooks(e){try{const t=await s.hi.get(`user-books/show/${e}`);return t.data.data}catch(t){return t}}async laterBooks(e){try{const t=await s.hi.get(`user-books/later-books/${e}`);return t.data.data}catch(t){return t}}async saveBookForLater(e){try{const t=await s.hi.patch(`/user-books/${e}/save-for-later`);return t.data}catch(t){(0,a.S3)(t)}}}t["Z"]=new n},79940:function(e,t,o){o.d(t,{F:function(){return s}});o(57658);var a=o(1120);function s(e,t=""){throw console.log(`[ERROR] ${t} =>`,e.response.data),404===e.response.data.statusCode?a.Z.push({name:"NotFound"}):403===e.response.data.statusCode&&a.Z.push({name:"NotAuthorized"}),e}},54548:function(e,t,o){o.d(t,{Z:function(){return Y}});var a=o(66252),s=o(3577),n=o(49963);const i=e=>((0,a.dD)("data-v-436a7c89"),e=e(),(0,a.Cn)(),e),r={class:"d-grid gap-3 d-grid-template-1fr-19"},c={class:"card mb-0"},l={class:"position-absolute top-0 end-0 p-2 rounded-start",style:{"background-color":"#278036",opacity:"50%"}},d={class:"text-white"},u={class:"position-absolute start-0"},p={class:"card-body text-center"},h=["src"],m={class:"group-info pt-3 pb-3"},g={class:"group-details d-inline-block pb-3"},k={class:"d-flex align-items-center justify-content-between list-inline m-0 p-0"},b={class:"pe-3 ps-3"},A=i((()=>(0,a._)("p",{class:"mb-0"},"المستوى",-1))),y={class:"pe-3 ps-3"},v=i((()=>(0,a._)("p",{class:"mb-0"},"الفئة",-1))),w={class:"pe-3 ps-3"},f=i((()=>(0,a._)("p",{class:"mb-0"},"الصفحات",-1))),B={key:0,class:"row"},I={key:0,class:"row d-flex justify-content-center"},_={class:"col-12"},C={key:0},q={key:1},L={key:1,class:"row d-flex justify-content-center"},D={class:"col-12"},S={key:1,class:"row"},z={class:"col-6"},x=["data-bs-target","disabled"],E={class:"col-6"},K=["id"],P={href:"javascript:void(0);",class:"lh-1","data-bs-dismiss":"modal",ref:"closeBtn"},Q=i((()=>(0,a._)("span",{class:"material-symbols-outlined"},"close",-1))),j=[Q];function O(e,t,o,i,Q,O){const F=(0,a.up)("font-awesome-icon"),U=(0,a.up)("router-link"),T=(0,a.up)("model-header"),M=(0,a.up)("createThesis"),G=(0,a.up)("model-body"),N=(0,a.up)("modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",r,[(0,a._)("div",c,[(0,a._)("div",l,[(0,a._)("h6",d,(0,s.zw)(O.bookTypeLanguage),1)]),(0,a._)("div",u,[o.isProfile?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(F,{key:0,role:"button",class:"me-3",icon:[O.isSaved?"fas":"far","heart"],size:"2xl",color:"#f75c78",onClick:(0,n.iM)(O.markBookForLater,["prevent"])},null,8,["icon","onClick"])),(0,a._)("span",{role:"button",onClick:t[0]||(t[0]=e=>O.download(o.cardInfo.link)),class:"material-symbols-outlined align-middle display-5 me-3"}," download ")]),(0,a._)("div",p,[(0,a._)("img",{src:O.resolve_img_url(o.cardInfo.media?.path??""),class:"img-fluid rounded w-75 mt-4",alt:"blog-img"},null,8,h),(0,a._)("div",m,[(0,a._)("h4",null,[(0,a.Wm)(U,{to:{name:"book.book-details",params:{book_id:this.cardInfo.id}},"data-toggle":"tooltip","data-placement":"top",title:o.cardInfo.name,class:(0,s.C_)(["truncated",O.directionClass])},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(o.cardInfo.name),1)])),_:1},8,["to","title","class"])]),(0,a._)("p",{class:(0,s.C_)(["truncated",O.directionClass])},(0,s.zw)(o.cardInfo.writer),3)]),(0,a._)("div",g,[(0,a._)("ul",k,[(0,a._)("li",b,[A,(0,a._)("h6",null,(0,s.zw)(o.cardInfo.level.arabic_level),1)]),(0,a._)("li",y,[v,(0,a._)("h6",null,(0,s.zw)(o.cardInfo.section?.section),1)]),(0,a._)("li",w,[f,(0,a._)("h6",null,(0,s.zw)(o.cardInfo.end_page),1)])])]),o.isProfile?((0,a.wg)(),(0,a.iD)("div",B,[o.isAmbassador?((0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",_,[(0,a._)("button",{type:"submit",class:"btn btn-primary d-block w-100",onClick:t[1]||(t[1]=e=>O.thesesDetails())},[(0,a.Uk)(" عرض "),O.myProfile?((0,a.wg)(),(0,a.iD)("span",C," أطروحاتي ")):((0,a.wg)(),(0,a.iD)("span",q," أطروحات السفير "))])])])):((0,a.wg)(),(0,a.iD)("div",L,[(0,a._)("div",D,[(0,a._)("button",{type:"submit",class:"btn btn-primary d-block w-100",onClick:t[2]||(t[2]=e=>O.bookDetails())}," صفحة الكتاب ")])]))])):((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("div",z,[(0,a._)("button",{type:"submit",class:"btn btn-primary d-block w-100","data-bs-toggle":"modal","data-bs-target":`#modal-${o.cardInfo.id}`,disabled:!o.cardInfo.allow_comments}," كتابة أطروحة ",8,x)]),(0,a._)("div",E,[(0,a._)("button",{type:"submit",class:"btn btn-primary d-block w-100",onClick:t[3]||(t[3]=e=>O.bookDetails())}," عرض الأطروحات ")])]))])])]),(0,a.Wm)(N,{class:"modal fade",id:`modal-${o.cardInfo.id}`,dialogClass:"modal-fullscreen-sm-down",tabindex:"-1",title:"Create Thesis","aria-labelledby":`modalsLabel-${o.cardInfo.id}`,"aria-hidden":!0},{default:(0,a.w5)((()=>[(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a._)("h5",{class:"modal-title",id:`modalsLabel-${o.cardInfo.id}`},(0,s.zw)(o.cardInfo.name)+" || أطروحة جديدة ",9,K),(0,a._)("a",P,j,512)])),_:1}),(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a.Wm)(M,{book:o.cardInfo,lastThesis:o.cardInfo.last_thesis,onCloseModel:O.closeModel,onAddThesis:O.addThesis},null,8,["book","lastThesis","onCloseModel","onAddThesis"])])),_:1})])),_:1},8,["id","aria-labelledby"])],64)}o(57658);var F=o(28143),U=o(19057),T=o(8209),M={name:"BookCard",components:{createThesis:F.Z},props:{cardInfo:{type:Object},isProfile:{type:Boolean,default:!1},isAmbassador:{type:Boolean,default:!0}},created(){window.addEventListener("popstate",this.popstateEventAction)},emits:["updateUserBook"],methods:{popstateEventAction(){const e=document.querySelector("body");e.removeAttribute("data-bs-overflow"),e.removeAttribute("data-bs-padding-right"),e.removeAttribute("style"),e.classList.remove("modal-open");const t=document.getElementsByClassName("modal-backdrop");for(let o=0;o<t.length;o++)t[o].remove();this.removePopstateEventAction()},removePopstateEventAction(){window.removeEventListener("popstate",this.popstateEventAction)},resolve_img_url:function(e){return e||o(21218)},bookDetails(){this.$router.push({name:"book.book-details",params:{book_id:this.cardInfo.id}})},thesesDetails(){this.$router.push({name:"book.user-theses",params:{book_id:this.cardInfo.id,user_id:this.$route.params.user_id}})},closeModel(){this.$refs.closeBtn.click()},addThesis(e){setTimeout((()=>{this.closeModel(),this.bookDetails()}),1800)},async markBookForLater(){try{const e=await U.Z.saveBookForLater(this.cardInfo.id);T.Z.handleSuccessSwal(e.message,1800),this.$emit("updateUserBook",this.cardInfo.id,e.data?{id:e.data.id,status:e.data.status,counter:e.data.counter}:null)}catch(e){console.log("[save book error]",e),T.Z.toggleToast("حدث خطأ ما أثناء حفظ الكتاب, يرجى المحاولة مرة أخرى","error")}},download(e){const t=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1});t.fire({title:"ملاحظة هامة",text:"في مشروعنا لن لا نقوم أبدًا بتصوير الكتب المطبوعة ولا نقوم بنسب هذه الكتب للمشروع أو محاولة إخفاء أسماء دور النشر وحقوقها . إنما كل ما نقوم به هو عملية البحث عن هذه الكتب في مواقع الانترنت و إحضار روابط الحصول عليها للاستفادة منها . علمًا أننا لا نقوم بعملية بيع للكتب أو الاستفادة المادية منها مطلقًا ولكننا نؤمن أن من حق دور النشر إيجاد وسائل لمنع تصوير كتبها ووضعها على مواقع الانترنت ولكن أن يتواجد الكتاب على الانترنت مجانًا سواء عن طريق موقع لديه أذن بالنشر ، أو عن طريق كاتب الكتاب أو غيرهم ، ثم لا نقوم بقراءة هذه الكتب ونمنع أنفسنا من العلم فهذا الأمر لن يساهم في عملية ايقاف الكتب الالكترونية إنما سوف يساهم فقط بمنع أنفسنا عن علم مطروح وتقييد أنفسنا بظروف تدفعنا للجهل والتوقف عن التعلم . علمًا أن المشروع يتعهد دومًا بحذف أي كتاب من المنهج إذا لم يناسب وجوده كاتب الكتب أو دار النشر الخاصة بالكتاب ، فبإمكان كل شخص إما قراءة الكتاب مطبوعًا أو الاستفادة من النسخ التي نجمعها من مواقع الكتب المنتشرة مع إخلاء مسؤوليتنا حول إن كانت هذه المواقع لديها أذن بالنشر والتوزيع من عدمه فنترك هذا الأمر لدور النشر . هذا ونسأل الله أن يصلح نوايانا ويجعلها خالصة لوجهه الكريم وتطبيقًا لأمره لنا بالقراءة لأجل التعلم والتفكر . والله أعلم .",icon:"warning",showCancelButton:!0,confirmButtonText:"تحميل",cancelButtonText:"إلغاء",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((t=>{t.isConfirmed&&window.open(e,"_blank")}))}},computed:{bookTypeLanguage(){let e="كتاب ";const t=this.cardInfo.type.type.toLowerCase();"normal"==t?e+="منهجي":"ramadan"==t||"tafseer"==t?e+="رمضاني":"kids"==t?e+="أطفال":"young"==t&&(e+="يافعين"),e+=" - ";const o=this.cardInfo.language.language.toLowerCase();return"arabic"==o?e+="عربي":"english"==o&&(e+="إنجليزي"),e},isSaved(){return!!this.cardInfo.userBooks&&"later"===this.cardInfo.userBooks[0]?.status},myProfile(){return this.isProfile&&this.isAmbassador&&parseInt(this.$store.getters.getUser.id)===parseInt(this.$route.params.user_id)},directionClass(){return"arabic"==this.cardInfo.language.language.toLowerCase()?"right-direction":"left-direction"}}},G=o(83744);const N=(0,G.Z)(M,[["render",O],["__scopeId","data-v-436a7c89"]]);var Y=N},91130:function(e,t,o){o.d(t,{Z:function(){return m}});var a=o(66252);const s={class:"preview-images"},n=["onClick"],i=(0,a._)("span",null," x ",-1),r=[i],c=["src"],l=["src"];function d(e,t,o,i,d,u){return(0,a.wg)(),(0,a.iD)("div",s,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.previewUrls,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"image-container",key:e.url},[(0,a._)("div",{class:"delete-image",onClick:e=>u.removeMedia(t)},r,8,n),e.type.includes("image")?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.url},null,8,c)):((0,a.wg)(),(0,a.iD)("video",{key:1,src:e.url,autoplay:""},null,8,l))])))),128))])}o(57658);var u={name:"ImagePreviewer",props:{media:{type:[Array,FileList],default:()=>[]}},emits:["remove-media"],data(){return{previewUrls:[]}},methods:{previewMedia(){this.previewUrls=[];const e=[...this.media];e.forEach((e=>{const t=new FileReader;t.onload=()=>{this.previewUrls.push({url:t.result,type:e.type})},t.readAsDataURL(e)}))},removeMedia(e){this.previewUrls.splice(e,1),this.$emit("remove-media",e)},clearMedia(){this.previewUrls=[]}},mounted(){this.previewMedia()},watch:{media(){this.previewMedia()}}},p=o(83744);const h=(0,p.Z)(u,[["render",d]]);var m=h},60562:function(e,t,o){o.r(t),o.d(t,{default:function(){return M}});var a=o(66252),s=o(3577);const n=e=>((0,a.dD)("data-v-702817fd"),e=e(),(0,a.Cn)(),e),i=n((()=>(0,a._)("hr",null,null,-1))),r={key:0,class:"alert alert-danger"},c={key:1,class:"col-sm-12 text-center"},l=["src"],d={class:"d-grid gap-3 d-grid-template-1fr-19"},u={class:"text-center mt-3"},p={class:"pagination w-100"};function h(e,t,n,h,m,g){const k=(0,a.up)("BooksFilter"),b=(0,a.up)("BookCard"),A=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("main",null,[(0,a.Wm)(k,{sections:m.sections,toggleActiveFilter:g.toggleActiveFilter,searchBookByName:g.searchBookByName,filterBooks:g.filterBooks},null,8,["sections","toggleActiveFilter","searchBookByName","filterBooks"]),i,m.empty?((0,a.wg)(),(0,a.iD)("div",r,(0,s.zw)(m.empty),1)):(0,a.kq)("",!0),m.loading&&m.books.length<=0?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("img",{src:o(79885),alt:"loader",style:{height:"100px"}},null,8,l)])):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a._)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.books,(e=>((0,a.wg)(),(0,a.j4)(b,{key:e.id,cardInfo:e,onUpdateUserBook:g.updateUserBook},null,8,["cardInfo","onUpdateUserBook"])))),128))]),(0,a._)("div",u,[(0,a._)("ul",p,[1!=n.page?((0,a.wg)(),(0,a.j4)(A,{key:0,class:"page-item page-link",to:{name:"osboha.book",query:{page:n.page-1}},rel:"prev"},{default:(0,a.w5)((()=>[(0,a.Uk)(" السابق ")])),_:1},8,["to"])):(0,a.kq)("",!0),(0,a._)("li",{class:(0,s.C_)(["page-item page-link",g.checkActive(n.page)])},[(0,a.Wm)(A,{class:"page-item page-link",to:{name:"osboha.book",query:{page:n.page}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(n.page),1)])),_:1},8,["to"])],2),g.hasNextPage?((0,a.wg)(),(0,a.j4)(A,{key:1,class:"page-item page-link",to:{name:"osboha.book",query:{page:n.page+1}},rel:"next"},{default:(0,a.w5)((()=>[(0,a.Uk)(" التالي ")])),_:1},8,["to"])):(0,a.kq)("",!0)])])],64))])}o(57658);var m=o(54548),g=o(49963);const k=e=>((0,a.dD)("data-v-e42e8360"),e=e(),(0,a.Cn)(),e),b={class:"container"},A={class:"row mb-3"},y={class:"container"},v={class:"row d-flex justify-content-center mt-5"},w={class:"col-12"},f={class:"card"},B=k((()=>(0,a._)("div",{class:"card-title"},[(0,a._)("h3",{class:"font-weight-bold text-center"},"البحث عن الكتب")],-1))),I=k((()=>(0,a._)("hr",null,null,-1))),_={class:"container row d-inline text-center m-auto"},C=["onClick"],q={class:"mt-3 inputs"},L=k((()=>(0,a._)("i",{class:"fa fa-search"},null,-1))),D={class:"row mb-3"},S={class:"col-4"},z={class:"col-4"},x={class:"col-4"};function E(e,t,o,n,i,r){return(0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",A,[(0,a._)("div",y,[(0,a._)("div",v,[(0,a._)("div",w,[(0,a._)("div",f,[B,I,(0,a._)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.sections,(e=>((0,a.wg)(),(0,a.iD)("span",{class:"col-lg-1 col-md-1 col-sm-2 text-center",key:e.section_id,onClick:t=>r.filterResults(e.section_id)},[(0,a._)("span",{class:(0,s.C_)(["btn button-60 mr-2 mt-1",r.checkActive(e.active)])},(0,s.zw)(e.section),3)],8,C)))),128))]),(0,a._)("div",q,[L,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:" ... ابحث عن كتاب","onUpdate:modelValue":t[0]||(t[0]=e=>i.searchModel=e),onKeyup:t[1]||(t[1]=e=>o.searchBookByName(i.searchModel))},null,544),[[g.nr,i.searchModel,void 0,{trim:!0}]])])])])])])]),(0,a._)("div",D,[(0,a._)("div",S,[(0,a._)("button",{class:"button-53",role:"button",style:{"background-color":"#77d792"},onClick:t[2]||(t[2]=e=>r.filterResults(r.recentAddedBooks))}," مضاف حديثًا ")]),(0,a._)("div",z,[(0,a._)("button",{class:"button-53",role:"button",style:{"background-color":"#0a6681"},onClick:t[3]||(t[3]=e=>r.filterResults(r.mostReadableBooks))}," الأكثر قراءة ")]),(0,a._)("div",x,[(0,a._)("button",{class:"button-53 animated-btn",role:"button",style:{"background-color":"#f9c93e",color:"black"},onClick:t[4]||(t[4]=e=>r.filterResults(r.randomBook))}," اختر لي ")])])])}var K={name:"Books Filter",components:{},props:{sections:{type:Object},toggleActiveFilter:{type:Function},searchBookByName:{type:Function},filterBooks:{type:Function}},data(){return{searchModel:""}},methods:{checkActive(e){return e?"active":""},filterResults(e){this.searchModel="",this.filterBooks(e)}},computed:{recentAddedBooks(){return this.sections.length+1},mostReadableBooks(){return this.recentAddedBooks+1},randomBook(){return this.mostReadableBooks+1}}},P=o(83744);const Q=(0,P.Z)(K,[["render",E],["__scopeId","data-v-e42e8360"]]);var j=Q,O=o(34964),F=o(8209),U={name:"Book",components:{BookCard:m.Z,BooksFilter:j},created(){(0,a.m0)((()=>{this.search?this.searchBookByName(this.search):this.selectedSection>0&&this.selectedSection<this.sections.length?this.filterBooks(this.selectedSection):this.selectedSection<this.sections.length&&this.getBooks(this.page)}))},props:["page"],data(){return{books:[],totalBooks:0,current:1,booksPerPage:9,search:"",empty:"",selectedSection:0,lastSelectedSection:0,loading:!1,sections:[{section_id:0,section:"الكل",active:!0},{section_id:1,section:"بسيط",level:"simple",active:!1},{section_id:2,section:"متوسط",level:"intermediate",active:!1},{section_id:3,section:"عميق",level:"advanced",active:!1},{section_id:4,section:"عربي",lang:"arabic",active:!1},{section_id:5,section:"إنجليزي",lang:"english",active:!1}]}},methods:{async getBooks(e){this.empty="",this.loading=!0;try{const t=await O.Z.getAll(e);this.books=t.books,this.totalBooks=t.total,this.current=this.page}catch(t){F.Z.toggleToast("حدث خطأ ما, يرجى المحاولة مرة أخرى","error")}finally{this.loading=!1}},async filterBooks(e){this.empty="",this.toggleActiveFilter(e);let t=null;e<this.sections.length?(this.lastSelectedSection!=e&&this.$router.push({name:"osboha.book",query:{page:1}}),0===Number(e)?this.getBooks(this.page):e>0&&e<4?t=await O.Z.getBooksByLevel(this.sections[e].level,this.page):e>=4&&(t=await O.Z.getBooksByLanguage(this.sections[e].lang,this.page)),this.lastSelectedSection=e):(this.$router.push({name:"osboha.book",query:{page:1}}),e==this.recentAddedBooks?t=await O.Z.getRecentAddedBooks():e==this.mostReadableBooks?t=await O.Z.getMostReadableBooks():e==this.randomBook&&(t=await O.Z.getRandomBook())),t&&e<=this.sections.length?(this.books=t.books,this.totalBooks=t.total,this.current=this.page):t&&e>this.sections.length?(this.books=t.length>1?t:[t],this.totalBooks=t.length,this.current=this.page):(this.empty="لا يوجد كتب!",this.books=[])},async searchBookByName(e){if(this.empty="",e){this.search=e;const t=await O.Z.getBooksByName(this.search,this.page);t?(this.books=t.books,this.totalBooks=t.total,this.current=this.page):(this.empty="لا يوجد كتاب بهذا الاسم",this.books=[])}else this.getBooks(this.page)},checkActive(e){let t="";return this.current==e?t="active":t+=" done",t},toggleActiveFilter(e){this.sections=this.sections.map((t=>Number(t.section_id)===Number(e)?{...t,active:!0}:{...t,active:!1})),this.selectedSection=e},updateUserBook(e,t){this.books=this.books.map((o=>Number(o.id)===Number(e)?{...o,userBooks:t?[t]:[]}:o))}},computed:{hasNextPage(){return this.page<this.totalPages},totalPages(){return Math.ceil(this.totalBooks/this.booksPerPage)},recentAddedBooks(){return this.sections.length+1},mostReadableBooks(){return this.recentAddedBooks+1},randomBook(){return this.mostReadableBooks+1}}};const T=(0,P.Z)(U,[["render",h],["__scopeId","data-v-702817fd"]]);var M=T},79885:function(e){e.exports="data:image/gif;base64,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"}}]);
//# sourceMappingURL=8452.decbfbc0.js.map