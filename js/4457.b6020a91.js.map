{"version":3,"file":"js/4457.b6020a91.js","mappings":"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","sources":["webpack://Osboha180/./src/views/OsbohaMain/Post/PostView.vue","webpack://Osboha180/./src/views/OsbohaMain/Post/PostView.vue?58be"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-8 row m-0 p-0\">\r\n      <!-- ##### Display Posts ##### -->\r\n      <div\r\n        class=\"d-flex align-items-center justify-content-center\"\r\n        v-if=\"emptyMessage\"\r\n      >\r\n        <div class=\"me-2\">\r\n          <font-awesome-icon :icon=\"['fas', 'circle-exclamation']\" size=\"xl\" />\r\n        </div>\r\n        <div>{{ emptyMessage }}</div>\r\n      </div>\r\n      <div class=\"col-sm-12 text-center\" v-else-if=\"loading\">\r\n        <img\r\n          :src=\"require('@/assets/images/page-img/page-load-loader.gif')\"\r\n          alt=\"loader\"\r\n          style=\"height: 100px\"\r\n        />\r\n      </div>\r\n      <template v-else>\r\n        <Post :post=\"post\" />\r\n        <div class=\"col-sm-12\">\r\n          <div\r\n            class=\"card card-block card-stretch card-height blog user-comment\"\r\n          >\r\n            <div class=\"card-header d-flex justify-content-between\">\r\n              <div class=\"header-title\">\r\n                <h4 class=\"card-title\">التعليقات</h4>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-body\" ref=\"commentsSectionBody\">\r\n              <div class=\"row\">\r\n                <!-- display comments -->\r\n                <LazyLoadedComments\r\n                  v-if=\"post\"\r\n                  :post=\"post\"\r\n                  :userId=\"\r\n                    $route.params.user_id\r\n                      ? parseInt($route.params.user_id)\r\n                      : null\r\n                  \"\r\n                  :loadOnCreate=\"true\"\r\n                  ref=\"lazyLoadedCommentsRef\"\r\n                />\r\n                <CreateComment\r\n                  ref=\"SinglePostCreateComment\"\r\n                  v-if=\"post?.allow_comments\"\r\n                  type=\"comment\"\r\n                  class=\"flex-grow-1\"\r\n                  :post_id=\"post.id\"\r\n                  @addComment=\"addComment\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport PostService from \"@/API/services/post.service\";\r\nimport Post from \"@/components/post/Post.vue\";\r\nimport CreateComment from \"@/components/comment/CreateComment.vue\";\r\nimport LazyLoadedComments from \"@/components/comment/LazyLoadedComments.vue\";\r\nimport helper from \"@/utilities/helper\";\r\nexport default {\r\n  name: \"PostView\",\r\n  components: {\r\n    Post,\r\n    CreateComment,\r\n    LazyLoadedComments,\r\n  },\r\n  provide() {\r\n    return {\r\n      focusComment: this.focusComment,\r\n      incrementCommentsCount: () => {\r\n        this.post.comments_count++;\r\n      },\r\n      decrementCommentsCount: () => {\r\n        this.post.comments_count--;\r\n      },\r\n      reactToPost: this.reactToPost,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      post: null,\r\n      loading: false,\r\n      emptyMessage: \"\",\r\n    };\r\n  },\r\n  async created() {\r\n    await this.getPost();\r\n  },\r\n  methods: {\r\n    async getPost() {\r\n      if (this.loading) return;\r\n\r\n      this.loading = true;\r\n      try {\r\n        const response = await PostService.getPostById(\r\n          this.$route.params.post_id\r\n        );\r\n        this.post = response.data;\r\n      } catch (error) {\r\n        helper.toggleToast(\r\n          \"حدث خطأ أثناء تحميل المنشور, الرجاء المحاولة مرة أخرى\",\r\n          \"error\"\r\n        );\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    focusComment() {\r\n      if (this.post.allow_comments) {\r\n        this.$refs.commentsSectionBody.scrollTop =\r\n          this.$refs.commentsSectionBody.scrollHeight;\r\n        this.$refs.SinglePostCreateComment.focusInput();\r\n      } else {\r\n        helper.toggleToast(\"لا يمكنك التعليق على هذا المنشور الآن\", \"error\");\r\n      }\r\n    },\r\n    addComment(comment, comment_id) {\r\n      this.$refs.lazyLoadedCommentsRef.addComment(comment, comment_id);\r\n      if (!comment_id) {\r\n        this.$nextTick(() => {\r\n          //scroll to bottom of page\r\n          window.scrollTo(0, document.body.scrollHeight);\r\n        });\r\n      }\r\n    },\r\n    reactToPost(post_id, status) {\r\n      if (status) {\r\n        this.post.reactions_count++;\r\n        this.post.reacted_by_user = true;\r\n      } else {\r\n        this.post.reactions_count--;\r\n        this.post.reacted_by_user = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import { render } from \"./PostView.vue?vue&type=template&id=5ddb46cb\"\nimport script from \"./PostView.vue?vue&type=script&lang=js\"\nexport * from \"./PostView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Asmaa\\\\osboha\\\\Osboha2022-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","ref","_createElementBlock","_hoisted_1","_hoisted_2","$data","emptyMessage","_hoisted_3","_hoisted_4","_createVNode","_component_font_awesome_icon","icon","size","_toDisplayString","loading","_hoisted_5","src","require","alt","style","_Fragment","key","_component_Post","post","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createBlock","_component_LazyLoadedComments","userId","_ctx","$route","params","user_id","parseInt","loadOnCreate","allow_comments","_component_CreateComment","type","post_id","id","onAddComment","$options","addComment","name","components","Post","CreateComment","LazyLoadedComments","provide","focusComment","this","incrementCommentsCount","comments_count","decrementCommentsCount","reactToPost","data","async","getPost","methods","response","PostService","error","helper","$refs","commentsSectionBody","scrollTop","scrollHeight","SinglePostCreateComment","focusInput","comment","comment_id","lazyLoadedCommentsRef","$nextTick","window","scrollTo","document","body","status","reactions_count","reacted_by_user","__exports__","render"],"sourceRoot":""}