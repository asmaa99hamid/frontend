{"version":3,"file":"js/9002.689af58a.js","mappings":"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","sources":["webpack://Osboha180/./src/components/book/theses/create.vue","webpack://Osboha180/./src/components/book/theses/create.vue?9e30"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"submit\">\r\n    <div class=\"d-flex align-items-center w-100 row\">\r\n      <!-- نوع الأطروحة -->\r\n      <div class=\"row\">\r\n        <div class=\"form-group\">\r\n          <h5 class=\"form-label\">نوع الأطروحة</h5>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <select\r\n            class=\"form-select w-100\"\r\n            name=\"type_of_thesis\"\r\n            id=\"type_of_thesis\"\r\n            v-model=\"v$.thesisForm.typeOfThesis.$model\"\r\n            v-on:change=\"\r\n              changeTypeOfThesis(\r\n                $event.target.options[$event.target.options.selectedIndex].value\r\n              )\r\n            \"\r\n          >\r\n            <option value=\"\">اختر نوع الأطروحة</option>\r\n            <option value=\"read\">قراءة</option>\r\n            <option value=\"readAndWrite\">كتابة أطروحة</option>\r\n            <option value=\"screenshots\">اقتباسات</option>\r\n            <option value=\"screenshotsAndWrite\">كتابة واقتباسات</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <!-- الصفحات -->\r\n      <div class=\"row mt-2\" v-if=\"showPages\">\r\n        <div class=\"form-group\">\r\n          <h5\r\n            class=\"form-label\"\r\n            :class=\"{ 'text-primary': pages.length === 0 && !startOver }\"\r\n          >\r\n            {{\r\n              pages.length === 0 && !startOver ? \"لقد أنهيت الكتاب\" : \"الصفحات\"\r\n            }}\r\n          </h5>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" v-if=\"showPages\">\r\n        <button\r\n          class=\"btn btn-primary me-2 d-flex align-content-center justify-content-center\"\r\n          @click.prevent=\"startBookOver\"\r\n          v-if=\"pages.length === 0 && !startOver\"\r\n        >\r\n          <span class=\"material-symbols-outlined md-18\"> refresh </span>\r\n          إعادة قراءة الكتاب\r\n        </button>\r\n\r\n        <template v-else>\r\n          <div class=\"form-group col-6\">\r\n            <select\r\n              class=\"form-select\"\r\n              data-trigger\r\n              name=\"start_page\"\r\n              id=\"start_page\"\r\n              v-model=\"v$.thesisForm.start_page.$model\"\r\n            >\r\n              <option value=\"\">صفحة البداية</option>\r\n              <option v-for=\"page in pages\" :value=\"page\" :key=\"page\">\r\n                {{ page }}\r\n              </option>\r\n            </select>\r\n\r\n            <div class=\"help-block\" v-if=\"v$.thesisForm.start_page.$error\">\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"v$.thesisForm.start_page.required.$invalid\"\r\n                >الرجاء اختيار صفحة البداية</small\r\n              >\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"\r\n                  !v$.thesisForm.start_page.required.$invalid &&\r\n                  v$.thesisForm.start_page.between.$invalid\r\n                \"\r\n                >البداية يجب ان تكون اقل من النهاية</small\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"form-group col-6\">\r\n            <select\r\n              class=\"form-select\"\r\n              data-trigger\r\n              name=\"end_page\"\r\n              id=\"end_page\"\r\n              v-model=\"v$.thesisForm.end_page.$model\"\r\n            >\r\n              <option value=\"\">صفحة النهاية</option>\r\n              <option v-for=\"page in pages\" :value=\"page\" :key=\"page\">\r\n                {{ page }}\r\n              </option>\r\n            </select>\r\n            <div class=\"help-block\" v-if=\"v$.thesisForm.end_page.$error\">\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"v$.thesisForm.end_page.required.$invalid\"\r\n                >الرجاء اختيار صفحة النهاية</small\r\n              >\r\n              <small\r\n                style=\"color: red\"\r\n                v-if=\"\r\n                  !v$.thesisForm.end_page.required.$invalid &&\r\n                  v$.thesisForm.end_page.between.$invalid\r\n                \"\r\n                >النهاية يجب ان تكون اكبر من البداية</small\r\n              >\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </div>\r\n      <div class=\"form-group\" v-if=\"thesis\">\r\n        <label class=\"form-label\" for=\"thesisBody\">الأطروحة</label>\r\n        <textarea\r\n          rows=\"5\"\r\n          placeholder=\"... اكتب أطروحتك\"\r\n          class=\"rounded form-control\"\r\n          id=\"thesisBody\"\r\n          name=\"thesisBody\"\r\n          v-model.trim=\"v$.thesisForm.body.$model\"\r\n        ></textarea>\r\n        <p style=\"direction: rtl\">\r\n          <span> {{ v$.thesisForm.body.$model.length }}/400 حرف</span>\r\n          <span> - </span>\r\n          <span\r\n            style=\"color: red\"\r\n            class=\"text-center\"\r\n            v-if=\"v$.thesisForm.body.$model.length < 400\"\r\n            >أطروحة غير شاملة\r\n            <span class=\"material-symbols-outlined font-small\">error</span>\r\n          </span>\r\n          <span style=\"color: green\" v-else\r\n            >أطروحة شاملة\r\n            <span class=\"material-symbols-outlined font-small\"\r\n              >check_circle</span\r\n            >\r\n          </span>\r\n        </p>\r\n        <div class=\"help-block\" v-if=\"v$.thesisForm.body.$error\">\r\n          <small\r\n            style=\"color: red\"\r\n            v-if=\"v$.thesisForm.body.requiredIf.$invalid\"\r\n            >الرجاء ادخال الأطروحة</small\r\n          >\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\" v-if=\"screenshots\">\r\n        <label class=\"form-label\" for=\"customFile\"> اضافة اقتباس</label>\r\n        <input\r\n          class=\"form-control\"\r\n          type=\"file\"\r\n          id=\"customFile\"\r\n          multiple\r\n          accept=\"image/jpeg, image/png, image/jpg, image/gif, image/svg\"\r\n          ref=\"screenShots\"\r\n          @change=\"previewImages\"\r\n        />\r\n        <div class=\"help-block\" v-if=\"v$.thesisForm.screenShots.$error\">\r\n          <small\r\n            style=\"color: red\"\r\n            v-if=\"v$.thesisForm.screenShots.requiredIf.$invalid\"\r\n            >الرجاء ادخال اقتباس واحد على الاقل</small\r\n          >\r\n        </div>\r\n        <ImagePreviewer\r\n          v-if=\"thesisForm.screenShots.length\"\r\n          :media=\"thesisForm.screenShots\"\r\n          @remove-media=\"removeImage\"\r\n          ref=\"imagePreviewer\"\r\n        />\r\n      </div>\r\n      <hr />\r\n      <!--Success and error messages-->\r\n\r\n      <small class=\"text-danger text-center\" v-if=\"errorMessage\">\r\n        {{ errorMessage }}\r\n      </small>\r\n      <small\r\n        class=\"text-danger text-center\"\r\n        v-if=\"mediaNoteText && thesisToEdit\"\r\n      >\r\n        {{ mediaNoteText }}\r\n      </small>\r\n      <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n        <img\r\n          :src=\"require('@/assets/images/page-img/page-load-loader.gif')\"\r\n          alt=\"loader\"\r\n          style=\"height: 100px\"\r\n        />\r\n      </div>\r\n      <button\r\n        type=\"submit\"\r\n        class=\"btn btn-primary d-block mt-3\"\r\n        v-if=\"!loader\"\r\n        :disabled=\"v$.thesisForm.$invalid\"\r\n      >\r\n        إضافة\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, requiredIf } from \"@vuelidate/validators\";\r\nimport commentService from \"@/API/services/comment.service\";\r\nimport ImagePreviewer from \"@/components/media/ImagePreviewer.vue\";\r\nimport helper from \"@/utilities/helper\";\r\n\r\nexport default {\r\n  name: \"CreateThesis\",\r\n  components: {\r\n    ImagePreviewer,\r\n  },\r\n  props: {\r\n    book: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    lastThesis: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    thesisToEdit: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n  },\r\n  setup() {\r\n    return {\r\n      v$: useVuelidate(),\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      thesis: false,\r\n      screenshots: false,\r\n      showPages: false,\r\n      loader: false,\r\n      startOver: false,\r\n      thesisForm: {\r\n        typeOfThesis: \"\",\r\n        start_page: \"\",\r\n        end_page: \"\",\r\n        body: \"\",\r\n        screenShots: [],\r\n        type: \"thesis\",\r\n        book_id: null,\r\n        u_comment_id: null,\r\n      },\r\n      mediaNoteText: \"\",\r\n      errorMessage: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    pages() {\r\n      let allPages = [];\r\n      let start = null;\r\n\r\n      // console.log(\"[computed last thesis]\", this.lastThesis);\r\n      // console.log(\"[computed book]\", this.book);\r\n\r\n      //if user has a book in progress, start pages from the last thesis end page and add 1 to it\r\n      if (\r\n        this.book.userBooks.length &&\r\n        this.book.userBooks[0].status === \"in progress\"\r\n      ) {\r\n        start = this.lastThesis\r\n          ? this.lastThesis?.end_page + 1\r\n          : this.book.start_page;\r\n        // console.log(\"[computed in progress]\", start);\r\n      }\r\n      //if user has no book, so this is the first thesis, start pages from the book start page\r\n      else if (!this.book.userBooks.length && !this.lastThesis) {\r\n        start = this.book.start_page;\r\n        // console.log(\"[computed first thesis]\", start);\r\n      }\r\n\r\n      //if user is editting the thesis, start pages from the book start page\r\n      if (this.thesisToEdit) {\r\n        start = this.book.start_page;\r\n        // console.log(\"[computed editting]\", start);\r\n      }\r\n\r\n      //if start null, it means the user has finished the book\r\n\r\n      //if start over button is not clicked, return empty array\r\n      if (start === null && !this.startOver) {\r\n        // console.log(\"[computed finished]\", start);\r\n        return [];\r\n      }\r\n\r\n      //if start over button is clicked, start pages from the book start page\r\n      if (start === null && this.startOver) {\r\n        start = this.book.start_page;\r\n        // console.log(\"[computed start over]\", start);\r\n      }\r\n      //add all pages to the array from the start page to the book end page\r\n      for (let i = start; i <= this.book.end_page; i++) {\r\n        allPages.push(i);\r\n      }\r\n      return allPages;\r\n    },\r\n    successMessage() {\r\n      return this.thesisToEdit\r\n        ? \"تم تعديل الأطروحة بنجاح\"\r\n        : \"تم إضافة الأطروحة بنجاح\";\r\n    },\r\n  },\r\n  watch: {\r\n    book() {\r\n      this.thesisForm.book_id = this.book.id;\r\n      // console.log(\"[watch book id]\", this.thesisForm.book_id);\r\n    },\r\n  },\r\n  created() {\r\n    if (this.thesisToEdit) {\r\n      // console.log(\"[created thesisToEdit]\", this.thesisToEdit);\r\n      this.thesisForm.u_comment_id = parseInt(this.thesisToEdit.id);\r\n      this.thesisForm.body = this.thesisToEdit.body\r\n        ? this.thesisToEdit.body\r\n        : \"\";\r\n      this.thesisForm.start_page = this.thesisToEdit.thesis.start_page;\r\n      this.thesisForm.end_page = this.thesisToEdit.thesis.end_page;\r\n      this.thesisForm.screenShots.old = this.thesisToEdit.media ?? [];\r\n      this.showPages = true;\r\n\r\n      if (\r\n        (!this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) === 0) ||\r\n        (!this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) > 0)\r\n      ) {\r\n        this.thesisForm.typeOfThesis = \"read\";\r\n      } else if (\r\n        (this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) === 0) ||\r\n        (this.thesisToEdit.body &&\r\n          this.checkThesisHasMedia(this.thesisToEdit) > 0)\r\n      ) {\r\n        this.thesisForm.typeOfThesis = \"readAndWrite\";\r\n      }\r\n\r\n      this.changeTypeOfThesis(this.thesisForm.typeOfThesis);\r\n\r\n      const mediaCount = this.checkThesisHasMedia(this.thesisToEdit);\r\n      this.mediaNoteText =\r\n        mediaCount > 0\r\n          ? `ملاحظة: سيتم حذف الصور الموجودين بعد تعديل الأطروحة وعددهم: ${mediaCount}`\r\n          : \"\";\r\n    } else {\r\n      this.thesisForm.book_id = this.book?.id;\r\n      // console.log(\"[book]\", this.book);\r\n      // console.log(\"[thesisForm created]\", this.thesisForm);\r\n    }\r\n  },\r\n  methods: {\r\n    showAddThesis() {\r\n      this.thesis = true;\r\n      this.screenshots = false;\r\n    },\r\n    showAddScreenshots() {\r\n      this.screenshots = true;\r\n      this.thesis = false;\r\n    },\r\n    noThesisAndScreenshots() {\r\n      this.thesis = false;\r\n      this.screenshots = false;\r\n    },\r\n    thesisAndScreenshots() {\r\n      this.thesis = true;\r\n      this.screenshots = true;\r\n    },\r\n    changeTypeOfThesis(type) {\r\n      this.showPages = true;\r\n      if (type == \"read\") {\r\n        this.noThesisAndScreenshots();\r\n      } else if (type == \"readAndWrite\") {\r\n        this.showAddThesis();\r\n      } else if (type == \"screenshots\") {\r\n        this.showAddScreenshots();\r\n      } else if (type == \"screenshotsAndWrite\") {\r\n        this.thesisAndScreenshots();\r\n      } else {\r\n        this.showPages = false;\r\n        this.noThesisAndScreenshots();\r\n      }\r\n    },\r\n    previewImages(event) {\r\n      this.thesisForm.screenShots = event.target.files;\r\n    },\r\n    removeImage(index) {\r\n      const files = [...this.thesisForm.screenShots];\r\n      files.splice(index, 1);\r\n      this.thesisForm.screenShots = files;\r\n\r\n      if (this.thesisForm.screenShots.length == 0) {\r\n        this.$refs.screenShots.value = null;\r\n      }\r\n    },\r\n    async submit() {\r\n      this.v$.$touch();\r\n      if (!this.v$.thesisForm.$invalid) {\r\n        this.loader = true;\r\n        try {\r\n          this.updateThesisForm();\r\n\r\n          let response;\r\n\r\n          if (this.thesisToEdit) {\r\n            response = await commentService.update(this.thesisForm);\r\n          } else {\r\n            response = await commentService.create(this.thesisForm);\r\n          }\r\n\r\n          if (response.statusCode !== 200) {\r\n            throw response.data;\r\n          }\r\n\r\n          helper.handleSuccessSwal(this.successMessage);\r\n\r\n          if (!this.thesisToEdit) {\r\n            this.$emit(\"addThesis\", response.data);\r\n            //reset form\r\n            this.thesisForm = {\r\n              ...this.thesisForm,\r\n              typeOfThesis: \"\",\r\n              start_page: \"\",\r\n              end_page: \"\",\r\n              body: \"\",\r\n              screenShots: [],\r\n            };\r\n\r\n            this.v$.thesisForm.$reset();\r\n            this.changeTypeOfThesis(\"\");\r\n\r\n            //timer to close the modal\r\n            setTimeout(() => {\r\n              this.$emit(\"closeModel\");\r\n            }, 2000);\r\n          } else {\r\n            setTimeout(() => {\r\n              location.reload();\r\n            }, 1800);\r\n          }\r\n        } catch (error) {\r\n          helper.handleErrorSwal(\"حدث خطأ ما, يرجى المحاولة مرة أخرى!\");\r\n          console.log(error);\r\n        } finally {\r\n          this.loader = false;\r\n        }\r\n      } else {\r\n        this.errorMessage = \"الرجاء ادخال جميع البيانات المطلوبة\";\r\n      }\r\n    },\r\n    updateThesisForm() {\r\n      if (this.thesisForm.typeOfThesis == \"read\") {\r\n        this.thesisForm.body = null;\r\n        this.thesisForm.screenShots = [];\r\n      } else if (this.thesisForm.typeOfThesis == \"readAndWrite\") {\r\n        this.thesisForm.screenShots = [];\r\n      } else if (this.thesisForm.typeOfThesis == \"screenshots\") {\r\n        this.thesisForm.body = null;\r\n      }\r\n    },\r\n    startBookOver() {\r\n      this.startOver = true;\r\n    },\r\n    checkThesisHasMedia(thesis) {\r\n      let media = 0;\r\n\r\n      if (thesis.media) {\r\n        media++;\r\n      }\r\n\r\n      if (thesis.replies?.length) {\r\n        thesis.replies.forEach((item) => {\r\n          if (item.type === \"screenshot\" && item.media) {\r\n            media++;\r\n          }\r\n        });\r\n      }\r\n\r\n      return media;\r\n    },\r\n  },\r\n  validations() {\r\n    return {\r\n      thesisForm: {\r\n        typeOfThesis: {\r\n          required,\r\n        },\r\n        start_page: {\r\n          required,\r\n          between: (value) =>\r\n            parseInt(value) < parseInt(this.thesisForm.end_page),\r\n        },\r\n        end_page: {\r\n          required,\r\n          between: (value) =>\r\n            parseInt(value) > parseInt(this.thesisForm.start_page),\r\n        },\r\n        body: {\r\n          requiredIf: requiredIf(\r\n            () =>\r\n              this.thesisForm.typeOfThesis == \"readAndWrite\" ||\r\n              this.thesisForm.typeOfThesis == \"screenshotsAndWrite\"\r\n          ),\r\n        },\r\n        screenShots: {\r\n          requiredIf: requiredIf(\r\n            () =>\r\n              this.thesisForm.typeOfThesis == \"screenshots\" ||\r\n              this.thesisForm.typeOfThesis == \"screenshotsAndWrite\"\r\n          ),\r\n        },\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.font-small {\r\n  font-size: 0.8rem;\r\n}\r\n.text-danger {\r\n  color: #c50714 !important;\r\n}\r\n</style>\r\n","import { render } from \"./create.vue?vue&type=template&id=a0683062&scoped=true\"\nimport script from \"./create.vue?vue&type=script&lang=js\"\nexport * from \"./create.vue?vue&type=script&lang=js\"\n\nimport \"./create.vue?vue&type=style&index=0&id=a0683062&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Asmaa\\\\osboha\\\\Osboha2022-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a0683062\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_5","value","style","for","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","submit","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","name","id","$setup","v$","thesisForm","typeOfThesis","$model","$event","onChange","changeTypeOfThesis","target","options","selectedIndex","$data","showPages","_hoisted_11","_hoisted_12","_normalizeClass","pages","length","startOver","_hoisted_13","_Fragment","key","_hoisted_15","start_page","_hoisted_16","_renderList","page","_hoisted_17","$error","_hoisted_18","required","$invalid","_hoisted_19","between","_hoisted_20","_hoisted_21","end_page","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","onClick","startBookOver","_hoisted_14","thesis","_hoisted_27","_hoisted_28","rows","placeholder","body","_hoisted_29","_toDisplayString","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","requiredIf","_hoisted_36","screenshots","_hoisted_37","_hoisted_38","type","multiple","accept","ref","previewImages","screenShots","_hoisted_39","_hoisted_40","_createBlock","_component_ImagePreviewer","media","onRemoveMedia","removeImage","_hoisted_41","errorMessage","_hoisted_42","mediaNoteText","$props","thesisToEdit","_hoisted_43","loader","_hoisted_44","src","require","alt","disabled","_hoisted_46","components","ImagePreviewer","props","book","Object","default","lastThesis","setup","useVuelidate","data","book_id","u_comment_id","computed","allPages","start","this","userBooks","status","i","push","successMessage","watch","created","parseInt","old","checkThesisHasMedia","mediaCount","methods","showAddThesis","showAddScreenshots","noThesisAndScreenshots","thesisAndScreenshots","event","files","index","splice","$refs","async","$touch","response","updateThesisForm","commentService","statusCode","helper","setTimeout","location","reload","$emit","$reset","error","console","log","replies","forEach","item","validations","__exports__","render"],"sourceRoot":""}