{"version":3,"file":"js/4110.fa259e20.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/friend.service.js","webpack://Osboha180/./src/views/User/Friends/Requests.vue","webpack://Osboha180/./src/views/User/Friends/Requests.vue?ca95"],"sourcesContent":["import { handleError } from \"vue\";\r\nimport { api } from \"../Intercepter\";\r\n\r\nclass FriendService {\r\n  /**\r\n   * list all friends for specific user.\r\n   * @param user id\r\n   */\r\n\r\n  async getAllFriends(user_id) {\r\n    try {\r\n      const friends = await api.get(`friends/user/${user_id}`);\r\n      return friends.data.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get all friend requests for auth user.\r\n   */\r\n\r\n  async getFriendsRequests() {\r\n    try {\r\n      const requests = await api.get(`/friends/un-accepted`);\r\n      return requests.data.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * create Friendship between auth and another user.\r\n   *  @param friend id\r\n   */\r\n\r\n  async create(friend_id) {\r\n    try {\r\n      return await api.post(\"/friends/create\", { friend_id });\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  async getFriendshipById(friendship_id) {\r\n    try {\r\n      const friendship = await api.post(\"/friends/show\", { friendship_id });\r\n      return friendship.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * accept Friendship.\r\n   *  @param  Friendship id\r\n   */\r\n\r\n  async accept(friendship_id) {\r\n    try {\r\n      const friendship = await api.get(`/friends/accept/${friendship_id}`);\r\n      return friendship.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * delete Friendship between 2 users.\r\n   *  @param  user id, friend id\r\n   */\r\n\r\n  async delete(user_id, friend_id) {\r\n    const pivot = new FormData();\r\n    pivot.append(\"user_id\", user_id);\r\n    pivot.append(\"friend_id\", friend_id);\r\n    try {\r\n      const response = await api.post(`/friends/delete`, pivot);\r\n      return response.data;\r\n    } catch (error) {\r\n      handleError(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new FriendService();\r\n","<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <iq-card>\r\n        <template v-slot:headerTitle>\r\n          <h4 class=\"card-title\">طلبات الصداقة</h4>\r\n        </template>\r\n        <template v-slot:body>\r\n          <ul\r\n            class=\"request-request request-inline m-0 p-0\"\r\n            v-if=\"requestsLoaded.length > 0\"\r\n          >\r\n            <li\r\n              class=\"d-flex align-items-center justify-content-between flex-wrap\"\r\n              v-for=\"(request, index1) in requestsLoaded\"\r\n              :key=\"index1\"\r\n            >\r\n              <BaseAvatar\r\n                :profileImg=\"request.user.user_profile.profile_picture\"\r\n                :profile_id=\"request.user.user_profile.id\"\r\n                :title=\"request.user.name\"\r\n                :gender=\"request.user.gender\"\r\n                avatarClass=\"rounded-circle avatar-40\"\r\n                containerClass=\"flex-shrink-0\"\r\n              />\r\n              <div class=\"flex-grow-1 ms-3\">\r\n                <router-link\r\n                  :to=\"{\r\n                    name: 'user.profile',\r\n                    params: { user_id: request.user.id },\r\n                  }\"\r\n                >\r\n                  <h6>{{ request.user.name }}</h6>\r\n                </router-link>\r\n              </div>\r\n              <div class=\"d-flex align-items-center mt-2 mt-md-0\">\r\n                <div class=\"confirm-click-btn\">\r\n                  <a\r\n                    role=\"button\"\r\n                    class=\"me-3 btn btn-primary rounde d-flex align-items-center\"\r\n                    @click=\"acceptrequest(request.id)\"\r\n                  >\r\n                    <span class=\"material-symbols-outlined md-18 me-1\">\r\n                      person_add\r\n                    </span>\r\n                    قبول\r\n                  </a>\r\n                  <a\r\n                    href=\"@/app/profile.html\"\r\n                    class=\"me-3 btn btn-primary rounded request-btn\"\r\n                    style=\"display: none\"\r\n                  ></a>\r\n                </div>\r\n                <a\r\n                  role=\"button\"\r\n                  class=\"btn btn-secondary rounded\"\r\n                  data-extra-toggle=\"delete\"\r\n                  data-closest-elem=\".item\"\r\n                  @click=\"deleterequest(request.user_id, request.friend_id)\"\r\n                  >حذف</a\r\n                >\r\n              </div>\r\n            </li>\r\n            <li\r\n              class=\"d-block text-center mb-0 pb-0\"\r\n              v-if=\"friendRequest.length > length\"\r\n            >\r\n              <a class=\"me-3 btn\" role=\"button\" @click=\"loadMore()\"\r\n                >عرض المزيد</a\r\n              >\r\n            </li>\r\n          </ul>\r\n          <div class=\"col-sm-12\" v-else>\r\n            <iq-card class=\"iq-card\">\r\n              <div class=\"iq-card-body p-0\">\r\n                <div class=\"image-block text-center\">\r\n                  <img\r\n                    src=\"@/assets/images/main/no-friend-req.png\"\r\n                    class=\"img-fluid rounded w-50\"\r\n                    alt=\"blog-img\"\r\n                  />\r\n                </div>\r\n                <h4 class=\"text-center mt-3 mb-3\">لا يوجد طلبات صداقة</h4>\r\n              </div>\r\n            </iq-card>\r\n          </div>\r\n        </template>\r\n      </iq-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FriendServices from \"@/API/services/friend.service\";\r\n\r\nexport default {\r\n  name: \"FriendRequest\",\r\n  async created() {\r\n    this.friendRequest = await FriendServices.getFriendsRequests();\r\n  },\r\n  data() {\r\n    return {\r\n      friendRequest: [],\r\n      length: 10,\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * acceot friend request.\r\n     *  @param  request id\r\n     */\r\n    acceptrequest(id) {\r\n      const swalWithBootstrapButtons = this.$swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-primary btn-lg\",\r\n          cancelButton: \"btn btn-outline-primary btn-lg ms-2\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n\r\n      swalWithBootstrapButtons\r\n        .fire({\r\n          title: \"هل أنت متأكد؟\",\r\n          text: \"لا يمكنك التراجع عن هذا الاجراء\",\r\n          icon: \"warning\",\r\n          showCancelButton: true,\r\n          confirmButtonText: \"نعم، قم بالقبول\",\r\n          cancelButtonText: \"تراجع  \",\r\n          showClass: {\r\n            popup: \"animate__animated animate__zoomIn\",\r\n          },\r\n          hideClass: {\r\n            popup: \"animate__animated animate__zoomOut\",\r\n          },\r\n        })\r\n        .then((willDelete) => {\r\n          if (willDelete.isConfirmed) {\r\n            FriendServices.accept(id)\r\n              .then((response) => {\r\n                swalWithBootstrapButtons.fire({\r\n                  title: \"تم القبول\",\r\n                  text: \"تم قبول طلب الصداقة\",\r\n                  icon: \"success\",\r\n                  showClass: {\r\n                    popup: \"animate__animated animate__zoomIn\",\r\n                  },\r\n                  hideClass: {\r\n                    popup: \"animate__animated animate__zoomOut\",\r\n                  },\r\n                });\r\n                setTimeout(function () {\r\n                  location.reload(true);\r\n                }, 2000);\r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n              });\r\n          }\r\n        });\r\n    },\r\n    /**\r\n     * delete friend request.\r\n     *  @param  user id, friend id\r\n     */\r\n    deleterequest(user_id, friend_id) {\r\n      const swalWithBootstrapButtons = this.$swal.mixin({\r\n        customClass: {\r\n          confirmButton: \"btn btn-primary btn-lg\",\r\n          cancelButton: \"btn btn-outline-primary btn-lg ms-2\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n\r\n      swalWithBootstrapButtons\r\n        .fire({\r\n          title: \"هل أنت متأكد؟\",\r\n          text: \"لا يمكنك التراجع عن هذا الاجراء\",\r\n          icon: \"warning\",\r\n          showCancelButton: true,\r\n          confirmButtonText: \"نعم، قم بالحذف\",\r\n          cancelButtonText: \"تراجع  \",\r\n          showClass: {\r\n            popup: \"animate__animated animate__zoomIn\",\r\n          },\r\n          hideClass: {\r\n            popup: \"animate__animated animate__zoomOut\",\r\n          },\r\n        })\r\n        .then((willDelete) => {\r\n          if (willDelete.isConfirmed) {\r\n            FriendServices.delete(user_id, friend_id)\r\n              .then((response) => {\r\n                swalWithBootstrapButtons.fire({\r\n                  title: \"تم الحذف\",\r\n                  text: \"تم حذف طلب الصداقة\",\r\n                  icon: \"success\",\r\n                  showClass: {\r\n                    popup: \"animate__animated animate__zoomIn\",\r\n                  },\r\n                  hideClass: {\r\n                    popup: \"animate__animated animate__zoomOut\",\r\n                  },\r\n                });\r\n                setTimeout(function () {\r\n                  location.reload(true);\r\n                }, 2000);\r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n              });\r\n          }\r\n        });\r\n    },\r\n\r\n    /**\r\n     * load more request.\r\n     */\r\n    loadMore() {\r\n      if (this.length > this.friendRequest.length) return;\r\n      this.length = this.length + 10;\r\n    },\r\n  },\r\n  computed: {\r\n    requestsLoaded() {\r\n      return this.friendRequest.slice(0, this.length);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Requests.vue?vue&type=template&id=edca7538\"\nimport script from \"./Requests.vue?vue&type=script&lang=js\"\nexport * from \"./Requests.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Asmaa\\\\osboha\\\\Osboha2022-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["FriendService","async","user_id","friends","api","data","error","handleError","requests","friend_id","friendship_id","friendship","pivot","FormData","append","response","class","_createElementVNode","href","style","src","_imports_0","alt","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_iq_card","headerTitle","_withCtx","_hoisted_3","body","$options","requestsLoaded","length","_hoisted_4","_Fragment","_renderList","request","index1","key","_component_BaseAvatar","profileImg","user","user_profile","profile_picture","profile_id","id","title","name","gender","avatarClass","containerClass","_hoisted_5","_component_router_link","to","_toDisplayString","_hoisted_6","_hoisted_7","role","onClick","$event","acceptrequest","_hoisted_9","_hoisted_10","deleterequest","_hoisted_11","$data","friendRequest","_hoisted_12","_cache","loadMore","_hoisted_13","_hoisted_14","this","FriendServices","methods","swalWithBootstrapButtons","$swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","text","icon","showCancelButton","confirmButtonText","cancelButtonText","showClass","popup","hideClass","then","willDelete","isConfirmed","setTimeout","location","reload","catch","console","log","computed","slice","__exports__","render"],"sourceRoot":""}