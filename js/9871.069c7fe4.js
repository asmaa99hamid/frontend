(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[9871],{20425:function(t){!function(e,a){t.exports=a()}(0,(function(){var t="__v-click-outside",e="undefined"!=typeof window,a="undefined"!=typeof navigator,r=e&&("ontouchstart"in window||a&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],n=function(t){var e=t.event,a=t.handler;(0,t.middleware)(e)&&a(e)},s=function(e,a){var s=function(t){var e="function"==typeof t;if(!e&&"object"!=typeof t)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||r,isActive:!(!1===t.isActive),detectIframe:!(!1===t.detectIframe),capture:Boolean(t.capture)}}(a.value),i=s.handler,c=s.middleware,o=s.detectIframe,d=s.capture;if(s.isActive){if(e[t]=s.events.map((function(t){return{event:t,srcTarget:document.documentElement,handler:function(t){return function(t){var e=t.el,a=t.event,r=t.handler,s=t.middleware,i=a.path||a.composedPath&&a.composedPath();(i?i.indexOf(e)<0:!e.contains(a.target))&&n({event:a,handler:r,middleware:s})}({el:e,event:t,handler:i,middleware:c})},capture:d}})),o){var u={event:"blur",srcTarget:window,handler:function(t){return function(t){var e=t.el,a=t.event,r=t.handler,s=t.middleware;setTimeout((function(){var t=document.activeElement;t&&"IFRAME"===t.tagName&&!e.contains(t)&&n({event:a,handler:r,middleware:s})}),0)}({el:e,event:t,handler:i,middleware:c})},capture:d};e[t]=[].concat(e[t],[u])}e[t].forEach((function(a){var r=a.event,n=a.srcTarget,s=a.handler;return setTimeout((function(){e[t]&&n.addEventListener(r,s,d)}),0)}))}},i=function(e){(e[t]||[]).forEach((function(t){return t.srcTarget.removeEventListener(t.event,t.handler,t.capture)})),delete e[t]},c=e?{beforeMount:s,updated:function(t,e){var a=e.value,r=e.oldValue;JSON.stringify(a)!==JSON.stringify(r)&&(i(t),s(t,{value:a}))},unmounted:i}:{};return{install:function(t){t.directive("click-outside",c)},directive:c}}))},96444:function(t,e,a){"use strict";var r=a(66252),n=a(24150);class s{async getAllFriends(t){try{const e=await n.hi.get(`friends/user/${t}`);return e.data.data}catch(e){(0,r.S3)(e)}}async getFriendsRequests(){try{const t=await n.hi.get("/friends/un-accepted");return t.data.data}catch(t){(0,r.S3)(t)}}async create(t){try{return await n.hi.post("/friends/create",{friend_id:t})}catch(e){(0,r.S3)(e)}}async getFriendshipById(t){try{const e=await n.hi.post("/friends/show",{friendship_id:t});return e.data}catch(e){(0,r.S3)(e)}}async accept(t){try{const e=await n.hi.get(`/friends/accept/${t}`);return e.data}catch(e){(0,r.S3)(e)}}async delete(t,e){const a=new FormData;a.append("user_id",t),a.append("friend_id",e);try{const t=await n.hi.post("/friends/delete",a);return t.data}catch(s){(0,r.S3)(s)}}}e["Z"]=new s},22658:function(t,e,a){"use strict";var r=a(66252),n=a(24150),s=a(79940);class i{async createGroup(t){try{const e=await n.hi.post("/group/create",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async getAll(){try{const t=await n.hi.get("/group");return await t.data}catch(t){return t}}async getById(t){try{const e=await n.hi.get(`group/show/${t}`);return e.data.data}catch(e){return e}}async getBooks(t){try{const e=await n.hi.get(`group/books/${t}`);return e.data.data}catch(e){(0,r.S3)(e)}}async getAllGroupExceptions(t){try{const e=await n.hi.get(`group/group-exceptions/${t}`);return e.data.data}catch(e){return e}}async exceptionsFilter(t,e){try{const a=await n.hi.get(`group/exceptions-filter/${t}/${e}`);return a.data.data}catch(a){return a}}async BasicMarksView(t){try{const e=await n.hi.get(`group/basic-mark-view/${t}`);return e.data.data}catch(e){return e}}async AllAchievements(t,e){try{const a=await n.hi.get(`group/all-achievements/${t}/${e}`);return a.data.data}catch(a){return a}}async AchievementAsPages(t,e){try{const a=await n.hi.get(`group/achievement-as-pages/${t}/${e}`);return a.data.data}catch(a){return a}}async searchForAmbassadorAchievement(t,e,a){try{const r=await n.hi.get(`group/search-for-ambassador-achievement/${t}/${e}/${a}`);return r.data.data}catch(r){return r}}async searchForAmbassador(t,e){try{const a=await n.hi.get(`group/search-for-ambassador/${t}/${e}`);return a.data.data}catch(a){return a}}async createLeaderRequest(t){try{const e=await n.hi.post("/group/create-leader-request",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){return e}}async lastLeaderRequest(t){try{const e=await n.hi.get(`group/last-leader-request/${t}`);return e.data.data}catch(e){return e}}async deleteById(t){try{return await n.hi["delete"](`/group/delete/${t}`)}catch(e){return e}}async update(t){}async getGroupByType(t){try{const e=await n.hi.post("/group/GroupByType",{type_id:t});return e.data}catch(e){return e}}async userGroups(){try{const t=await n.hi.get("/group/user-groups");return t.data.data}catch(t){return t}}async statistics(t){try{const e=await n.hi.get(`group/statistics/${t}`);return e.data.data}catch(e){(0,s.F)(e,"statistics")}}async thesesAndScreensByWeek(t,e){try{const a=await n.hi.get(`group/theses-and-screens-by-week/${t}/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}async monthAchievement(t,e){try{const a=await n.hi.get(`group/month-achievement/${t}/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}}e["Z"]=new i},94918:function(t,e,a){"use strict";var r=a(79940),n=a(24150);class s{constructor(){this.prefix="user-group"}async usersByGroupId(t){try{const e=await n.hi.get(`${this.prefix}/users/${t}`);return e.data.data}catch(e){return e}}async AddMember(t){try{const e=await n.hi.post(`${this.prefix}/add-member`,t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.F)(e,"UserGroupService.AddMember")}}}e["Z"]=new s},60351:function(t,e,a){"use strict";a.d(e,{S:function(){return r}});const r={ambassador:"سفير",leader:"قائد",supervisor:"مراقب",advisor:"موجه",consultant:"مستشار",admin:"ادارة"}},79940:function(t,e,a){"use strict";a.d(e,{F:function(){return n}});a(57658);var r=a(1120);function n(t,e=""){throw console.log(`[ERROR] ${e} =>`,t.response.data),404===t.response.data.statusCode?r.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&r.Z.push({name:"NotAuthorized"}),t}},79871:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return S}});var r=a(66252),n=a(3577),s=a(76560);const i={class:"row"},c=(0,r._)("h4",{class:"card-title"},"قائمة الأعضاء",-1),o={key:0,class:"request-list list-inline m-0 p-0"},d={class:"flex-grow-1 ms-3"},u=(0,r._)("br",null,null,-1),l={class:"rounded-pill badge lh-1 bg-primary px-2"},h={key:0,class:"d-block text-center mb-0 pb-0"},p={key:1,class:"col-sm-12"},g=(0,r._)("div",{class:"iq-card-body p-0"},[(0,r._)("div",{class:"image-block text-center"},[(0,r._)("img",{src:s,class:"img-fluid rounded w-50",alt:"blog-img"})]),(0,r._)("h4",{class:"text-center mt-3 mb-3"},"لا يوجد أعضاء")],-1);function m(t,e,a,s,m,f){const y=(0,r.up)("BaseAvatar"),w=(0,r.up)("router-link"),v=(0,r.up)("iq-card");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(v,null,{headerTitle:(0,r.w5)((()=>[c])),body:(0,r.w5)((()=>[f.usersLoaded?.length>0?((0,r.wg)(),(0,r.iD)("ul",o,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(f.usersLoaded,((e,a)=>((0,r.wg)(),(0,r.iD)("li",{class:"d-flex align-items-center justify-content-between flex-wrap",key:a},[(0,r.Wm)(y,{profileImg:e.user_profile.profile_picture,profile_id:e.user_profile.id,title:e?.name,gender:e?.gender,avatarClass:"rounded-circle avatar-40",containerClass:"flex-shrink-0"},null,8,["profileImg","profile_id","title","gender"]),(0,r._)("div",d,[(0,r.Wm)(w,{to:{name:"user.profile",params:{user_id:e.id}}},{default:(0,r.w5)((()=>[(0,r._)("h5",null,(0,n.zw)(e.name),1)])),_:2},1032,["to"]),(0,r._)("small",null,(0,n.zw)(t.formatDateToWritten(e.pivot.updated_at)),1),u,(0,r._)("span",l,(0,n.zw)(m.ARABIC_ROLES[e.pivot.user_type]),1)])])))),128)),m.users?.length>m.length?((0,r.wg)(),(0,r.iD)("li",h,[(0,r._)("a",{class:"me-3 btn",role:"button",onClick:e[0]||(e[0]=t=>f.loadMore())},"عرض المزيد")])):(0,r.kq)("",!0)])):((0,r.wg)(),(0,r.iD)("div",p,[(0,r.Wm)(v,{class:"iq-card"},{default:(0,r.w5)((()=>[g])),_:1})]))])),_:1})])}var f=a(96444),y=a(94918),w=a(20425),v=a.n(w),b=a(22658),_=a(60351),$=a(8209),A={name:"GroupMembers",directives:{clickOutside:v().directive},async created(){const t=await y.Z.usersByGroupId(this.$route.params.group_id);this.users=t.users},data(){return{controlList:[],users:[],length:10,ambassador_name:"",ARABIC_ROLES:_.S}},methods:{...$.Z,showList(t){this.controlList.fill(!1),this.controlList[t]=!0},hideList(){this.controlList.fill(!1)},async createFriendship(t){await f.Z.create(t)},loadMore(){this.length>this.users?.length||(this.length=this.length+10)},async searchForAmbassador(){const t=await b.Z.searchForAmbassador(this.ambassador_name,this.$route.params.group_id);this.users=t.users}},computed:{usersLoaded(){return this.users?.slice(0,this.length)}}},k=a(83744);const x=(0,k.Z)(A,[["render",m]]);var S=x},76560:function(t,e,a){"use strict";t.exports=a.p+"img/no-friends.2bab3c44.png"}}]);
//# sourceMappingURL=9871.069c7fe4.js.map