{"version":3,"file":"js/4024.6ef05d7f.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/user-group.service.js","webpack://Osboha180/./src/utilities/errors.js","webpack://Osboha180/./src/views/OsbohaMain/Group/AddMember.vue","webpack://Osboha180/./src/views/OsbohaMain/Group/AddMember.vue?834b"],"sourcesContent":["import { customHandleError } from \"../../utilities/errors\";\r\nimport { api, handelErrors } from \"../Intercepter\";\r\n\r\nclass UserGroup {\r\n  constructor() {\r\n    this.prefix = \"user-group\";\r\n  }\r\n\r\n  async usersByGroupId(group_id) {\r\n    try {\r\n      const response = await api.get(`${this.prefix}/users/${group_id}`);\r\n      return response.data.data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n  async AddMember(memberInfo) {\r\n    try {\r\n      const response = await api.post(`${this.prefix}/add-member`, memberInfo, {\r\n        headers: { \"Content-type\": \"multipart/form-data\" },\r\n      });\r\n      // .catch((error) => {\r\n      //   // error is handled in catch block\r\n      //   if (error.response) {\r\n      //     handelErrors(error.response.status);\r\n      //   } else if (error.request) {\r\n      //     // The request was made but no response was received\r\n      //     console.log(error.request);\r\n      //   } else {\r\n      //     // Error on setting up the request\r\n      //     console.log(\"Error\", error.message);\r\n      //   }\r\n      // });\r\n      return response.data.data;\r\n    } catch (error) {\r\n      customHandleError(error, \"UserGroupService.AddMember\");\r\n    }\r\n  }\r\n}\r\n\r\nexport default new UserGroup();\r\n","import router from \"../router\";\r\n\r\nexport function customHandleError(error, page = \"\") {\r\n  console.log(`[ERROR] ${page} =>`, error.response.data);\r\n  if (error.response.data.statusCode === 404) {\r\n    router.push({ name: \"NotFound\" });\r\n  } else if (error.response.data.statusCode === 403) {\r\n    router.push({ name: \"NotAuthorized\" });\r\n  }\r\n  throw error;\r\n}\r\n","<template>\r\n  <div class=\"col-sm-12 mt-3\">\r\n    <iq-card class=\"iq-card\">\r\n      <div\r\n        class=\"iq-card-header-toolbar d-flex text-center align-items-center mx-auto\"\r\n      >\r\n        <h1 class=\"text-center mt-3 mb-3\">عضو جديد</h1>\r\n      </div>\r\n      <div class=\"iq-card-body p-4\">\r\n        <div class=\"image-block text-center\">\r\n          <img\r\n            src=\"@/assets/images/main/add-user.png\"\r\n            class=\"img-fluid rounded w-75\"\r\n            alt=\"add-user\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 bg-white pt-2\">\r\n        <div class=\"sign-in-from\">\r\n          <h1 class=\"mb-0\">اضافة عضو</h1>\r\n          <form class=\"mt-2\" @submit.prevent=\"onSubmit()\">\r\n            <div class=\"form-group\">\r\n              <label for=\"exampleInputEmail1\">الايميل</label>\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"v$.form.email.$model\"\r\n                class=\"form-control mb-0\"\r\n                id=\"exampleInputEmail1\"\r\n                placeholder=\"البريد الالكتروني العضو\"\r\n              />\r\n              <template v-if=\"v$.form.email.$error\">\r\n                <small style=\"color: red\" v-if=\"v$.form.email.required.$invalid\"\r\n                  >البريد الالكتروني مطلوب</small\r\n                >\r\n                <small style=\"color: red\" v-if=\"v$.form.email.email.$invalid\"\r\n                  >البريد الالكتروني غير صحيح</small\r\n                >\r\n              </template>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <select\r\n                v-model=\"v$.form.role_id.$model\"\r\n                class=\"form-select\"\r\n                data-trigger\r\n                name=\"choices-single-default\"\r\n                id=\"choices-single-default\"\r\n              >\r\n                <option value=\"0\" selected>اختر دور العضو</option>\r\n                <option\r\n                  v-for=\"(role, index) in roles\"\r\n                  :key=\"index\"\r\n                  :value=\"role.id\"\r\n                >\r\n                  {{ user_type[role.name] }}\r\n                </option>\r\n              </select>\r\n              <small style=\"color: red\" v-if=\"v$.form.role_id.$error\">\r\n                يرجى اختيار دور العضو في المجموعة\r\n              </small>\r\n            </div>\r\n            <div class=\"form-group text-center\" v-if=\"message\">\r\n              <small style=\"color: red\">\r\n                {{ message }}\r\n              </small>\r\n            </div>\r\n            <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n              <p class=\"text-center\">جاري الاضافة</p>\r\n              <img\r\n                src=\"@/assets/images/page-img/page-load-loader.gif\"\r\n                alt=\"loader\"\r\n                style=\"height: 100px\"\r\n              />\r\n            </div>\r\n            <div class=\"d-inline-block w-100\" v-else>\r\n              <button type=\"submit\" class=\"btn btn-primary float-end\">\r\n                اضافة\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </iq-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, maxLength, email } from \"@vuelidate/validators\";\r\nimport UserGroupService from \"@/API/services/user-group.service\";\r\nimport { api } from \"@/API/Intercepter.js\";\r\n\r\nconst greaterThanZero = (value) => value > 0;\r\n\r\nexport default {\r\n  name: \"AddBook\",\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n\r\n  async created() {\r\n    const roles = await api.get(`get-roles/1`);\r\n    this.roles = roles.data.data;\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loader: false,\r\n      user_type: {\r\n        ambassador: \"سفير\",\r\n        leader: \"قائد\",\r\n        supervisor: \"مراقب\",\r\n        advisor: \"موجه\",\r\n        consultant: \"مستشار\",\r\n        admin: \"ادارة\",\r\n      },\r\n      form: {\r\n        email: \"\",\r\n        role_id: 0,\r\n        group_id: this.$route.params.group_id,\r\n      },\r\n      roles: [],\r\n      message: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async onSubmit() {\r\n      this.v$.$touch();\r\n      if (!this.v$.form.$invalid) {\r\n        this.loader = true;\r\n\r\n        try {\r\n          this.message = \"\";\r\n          const response = await UserGroupService.AddMember(this.form);\r\n          this.message = response;\r\n\r\n          this.v$.form.$reset();\r\n          this.form = {\r\n            email: \"\",\r\n            role_id: 0,\r\n            group_id: this.$route.params.group_id,\r\n          };\r\n\r\n          setTimeout(() => {\r\n            this.message = \"\";\r\n          }, 1800);\r\n        } catch (error) {\r\n          this.message = \"حدث خطأ\";\r\n          console.log(error);\r\n        } finally {\r\n          this.loader = false;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  validations() {\r\n    return {\r\n      form: {\r\n        email: {\r\n          required,\r\n          email,\r\n        },\r\n        role_id: {\r\n          required,\r\n          maxValue: greaterThanZero,\r\n        },\r\n      },\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./AddMember.vue?vue&type=template&id=7c7fc2e6\"\nimport script from \"./AddMember.vue?vue&type=script&lang=js\"\nexport * from \"./AddMember.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Asmaa\\\\osboha\\\\Osboha2022-frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["UserGroup","constructor","this","prefix","async","group_id","response","api","data","error","memberInfo","headers","customHandleError","page","console","log","statusCode","router","name","class","_createElementVNode","src","_imports_0","alt","for","style","value","selected","_imports_1","_hoisted_18","_hoisted_19","type","_hoisted_22","_createElementBlock","_hoisted_1","_createVNode","_component_iq_card","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","$event","$options","_hoisted_7","_hoisted_8","$setup","v$","form","email","$model","id","placeholder","$error","_Fragment","key","required","$invalid","_hoisted_9","_hoisted_10","_hoisted_11","role_id","_hoisted_12","_renderList","$data","roles","role","index","user_type","_hoisted_13","_hoisted_14","message","_hoisted_15","_hoisted_16","_toDisplayString","loader","_hoisted_17","_hoisted_20","_hoisted_21","_hoisted_23","greaterThanZero","setup","useVuelidate","ambassador","leader","supervisor","advisor","consultant","admin","$route","params","methods","$touch","UserGroupService","$reset","setTimeout","validations","maxValue","__exports__","render"],"sourceRoot":""}